"use strict";var Si=Object.create;var lt=Object.defineProperty;var wi=Object.getOwnPropertyDescriptor;var Ei=Object.getOwnPropertyNames;var Ai=Object.getPrototypeOf,Ti=Object.prototype.hasOwnProperty;var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Pi=(t,e)=>{for(var r in e)lt(t,r,{get:e[r],enumerable:!0})},Gr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ei(e))!Ti.call(t,i)&&i!==r&&lt(t,i,{get:()=>e[i],enumerable:!(n=wi(e,i))||n.enumerable});return t};var pe=(t,e,r)=>(r=t!=null?Si(Ai(t)):{},Gr(e||!t||!t.__esModule?lt(r,"default",{value:t,enumerable:!0}):r,t)),Fi=t=>Gr(lt({},"__esModule",{value:!0}),t);var Kr=C((Td,Ur)=>{Ur.exports=At;function At(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}At.prototype.go=function(t){this.pending<this.max?Wr(this,t):this.waiting.push(t)};At.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};At.prototype.hold=function(){return zr(this)};function zr(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)Wr(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function Wr(t,e){e(zr(t))}});var Vr=C(Xe=>{var Ye=require("fs"),Tt=require("util"),Vt=require("stream"),Qr=Vt.Readable,Zt=Vt.Writable,ki=Vt.PassThrough,$i=Kr(),Pt=require("events").EventEmitter;Xe.createFromBuffer=Ii;Xe.createFromFd=Ci;Xe.BufferSlicer=te;Xe.FdSlicer=ee;Tt.inherits(ee,Pt);function ee(t,e){e=e||{},Pt.call(this),this.fd=t,this.pend=new $i,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}ee.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(a){Ye.read(s.fd,t,e,r,n,function(o,l,c){a(),i(o,l,c)})})};ee.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(a){Ye.write(s.fd,t,e,r,n,function(o,l,c){a(),i(o,l,c)})})};ee.prototype.createReadStream=function(t){return new Ft(this,t)};ee.prototype.createWriteStream=function(t){return new kt(this,t)};ee.prototype.ref=function(){this.refCount+=1};ee.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&Ye.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};Tt.inherits(Ft,Qr);function Ft(t,e){e=e||{},Qr.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}Ft.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(r);Ye.read(e.context.fd,i,0,r,e.pos,function(s,a){s?e.destroy(s):a===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=a,e.push(i.slice(0,a))),n()})})}};Ft.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};Tt.inherits(kt,Zt);function kt(t,e){e=e||{},Zt.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}kt.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();Ye.write(n.context.fd,t,0,t.length,n.pos,function(a,o){a?(n.destroy(),s(),r(a)):(n.bytesWritten+=o,n.pos+=o,n.emit("progress"),s(),r())})})}};kt.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};Tt.inherits(te,Pt);function te(t,e){Pt.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}te.prototype.read=function(t,e,r,n,i){var s=n+r,a=s-this.buffer.length,o=a>0?a:r;this.buffer.copy(t,e,n,s),setImmediate(function(){i(null,o)})};te.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};te.prototype.createReadStream=function(t){t=t||{};var e=new ki(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};te.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new Zt(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var a=r.pos+n.length;if(a>r.endOffset){var o=new Error("maximum file length exceeded");o.code="ETOOBIG",r.destroyed=!0,s(o);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=a,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};te.prototype.ref=function(){this.refCount+=1};te.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Ii(t,e){return new te(t,e)}function Ci(t,e){return new ee(t,e)}});var Xr=C((Fd,Yr)=>{var oe=require("buffer").Buffer,Yt=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Yt=new Int32Array(Yt));function Zr(t){if(oe.isBuffer(t))return t;var e=typeof oe.alloc=="function"&&typeof oe.from=="function";if(typeof t=="number")return e?oe.alloc(t):new oe(t);if(typeof t=="string")return e?oe.from(t):new oe(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Mi(t){var e=Zr(4);return e.writeInt32BE(t,0),e}function Xt(t,e){t=Zr(t),oe.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=Yt[(r^t[n])&255]^r>>>8;return r^-1}function Jt(){return Mi(Xt.apply(null,arguments))}Jt.signed=function(){return Xt.apply(null,arguments)};Jt.unsigned=function(){return Xt.apply(null,arguments)>>>0};Yr.exports=Jt});var an=C(Y=>{var er=require("fs"),_i=require("zlib"),Jr=Vr(),Bi=Xr(),Ct=require("util"),Mt=require("events").EventEmitter,en=require("stream").Transform,tr=require("stream").PassThrough,Oi=require("stream").Writable;Y.open=Hi;Y.fromFd=tn;Y.fromBuffer=Ni;Y.fromRandomAccessReader=rr;Y.dosDateTimeToDate=nn;Y.validateFileName=sn;Y.ZipFile=le;Y.Entry=Je;Y.RandomAccessReader=ce;function Hi(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=It),er.open(t,"r",function(n,i){if(n)return r(n);tn(i,e,function(s,a){s&&er.close(i,It),r(s,a)})})}function tn(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=It),er.fstat(t,function(n,i){if(n)return r(n);var s=Jr.createFromFd(t,{autoClose:!0});rr(s,i.size,e,r)})}function Ni(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=Jr.createFromBuffer(t,{maxChunkSize:65536});rr(n,t.length,e,r)}function rr(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=It),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,a=65535,o=Math.min(s+a,e),l=Z(o),c=e-l.length;Re(t,l,0,o,c,function(d){if(d)return n(d);for(var m=o-s;m>=0;m-=1)if(l.readUInt32LE(m)===101010256){var u=l.slice(m),f=u.readUInt16LE(4);if(f!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+f));var h=u.readUInt16LE(10),p=u.readUInt32LE(16),v=u.readUInt16LE(20),g=u.length-s;if(v!==g)return n(new Error("invalid comment length. expected: "+g+". found: "+v));var b=i?$t(u,22,u.length,!1):u.slice(22);if(!(h===65535||p===4294967295))return n(null,new le(t,p,e,h,b,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames));var T=Z(20),k=c+m-T.length;Re(t,T,0,T.length,k,function(_){if(_)return n(_);if(T.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var we=De(T,8),G=Z(56);Re(t,G,0,G.length,we,function(j){return j?n(j):G.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(h=De(G,32),p=De(G,48),n(null,new le(t,p,e,h,b,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}Ct.inherits(le,Mt);function le(t,e,r,n,i,s,a,o,l,c){var d=this;Mt.call(d),d.reader=t,d.reader.on("error",function(m){rn(d,m)}),d.reader.once("close",function(){d.emit("close")}),d.readEntryCursor=e,d.fileSize=r,d.entryCount=n,d.comment=i,d.entriesRead=0,d.autoClose=!!s,d.lazyEntries=!!a,d.decodeStrings=!!o,d.validateEntrySizes=!!l,d.strictFileNames=!!c,d.isOpen=!0,d.emittedError=!1,d.lazyEntries||d._readEntry()}le.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function q(t,e){t.autoClose&&t.close(),rn(t,e)}function rn(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}le.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};le.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=Z(46);Re(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return q(t,r);if(!t.emittedError){var n=new Je,i=e.readUInt32LE(0);if(i!==33639248)return q(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return q(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=Z(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),Re(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return q(t,s);if(!t.emittedError){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileName=t.decodeStrings?$t(e,0,n.fileNameLength,a):e.slice(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength,l=e.slice(n.fileNameLength,o);n.extraFields=[];for(var c=0;c<l.length-3;){var d=l.readUInt16LE(c+0),m=l.readUInt16LE(c+2),u=c+4,f=u+m;if(f>l.length)return q(t,new Error("extra field length exceeds extra field buffer size"));var h=Z(m);l.copy(h,0,u,f),n.extraFields.push({id:d,data:h}),c=f}if(n.fileComment=t.decodeStrings?$t(e,o,o+n.fileCommentLength,a):e.slice(o,o+n.fileCommentLength),n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var p=null,c=0;c<n.extraFields.length;c++){var v=n.extraFields[c];if(v.id===1){p=v.data;break}}if(p==null)return q(t,new Error("expected zip64 extended information extra field"));var g=0;if(n.uncompressedSize===4294967295){if(g+8>p.length)return q(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=De(p,g),g+=8}if(n.compressedSize===4294967295){if(g+8>p.length)return q(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=De(p,g),g+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(g+8>p.length)return q(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=De(p,g),g+=8}}if(t.decodeStrings)for(var c=0;c<n.extraFields.length;c++){var v=n.extraFields[c];if(v.id===28789){if(v.data.length<6||v.data.readUInt8(0)!==1)continue;var b=v.data.readUInt32LE(1);if(Bi.unsigned(e.slice(0,n.fileNameLength))!==b)continue;n.fileName=$t(v.data,5,v.data.length,!0);break}}if(t.validateEntrySizes&&n.compressionMethod===0){var T=n.uncompressedSize;if(n.isEncrypted()&&(T+=12),n.compressedSize!==T){var k="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return q(t,new Error(k))}}if(t.decodeStrings){t.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var _=sn(n.fileName,t.validateFileNameOptions);if(_!=null)return q(t,new Error(_))}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};le.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null)r=e,e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var a=Z(30);Re(n.reader,a,0,a.length,t.relativeOffsetOfLocalHeader,function(o){try{if(o)return r(o);var l=a.readUInt32LE(0);if(l!==67324752)return r(new Error("invalid local file header signature: 0x"+l.toString(16)));var c=a.readUInt16LE(26),d=a.readUInt16LE(28),m=t.relativeOffsetOfLocalHeader+a.length+c+d,u;if(t.compressionMethod===0)u=!1;else if(t.compressionMethod===8)u=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));var f=m,h=f+t.compressedSize;if(t.compressedSize!==0&&h>n.fileSize)return r(new Error("file data overflows file bounds: "+f+" + "+t.compressedSize+" > "+n.fileSize));var p=n.reader.createReadStream({start:f+i,end:f+s}),v=p;if(u){var g=!1,b=_i.createInflateRaw();p.on("error",function(T){setImmediate(function(){g||b.emit("error",T)})}),p.pipe(b),n.validateEntrySizes?(v=new et(t.uncompressedSize),b.on("error",function(T){setImmediate(function(){g||v.emit("error",T)})}),b.pipe(v)):v=b,v.destroy=function(){g=!0,b!==v&&b.unpipe(v),p.unpipe(b),p.destroy()}}r(null,v)}finally{n.reader.unref()}})};function Je(){}Je.prototype.getLastModDate=function(){return nn(this.lastModFileDate,this.lastModFileTime)};Je.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Je.prototype.isCompressed=function(){return this.compressionMethod===8};function nn(t,e){var r=t&31,n=(t>>5&15)-1,i=(t>>9&127)+1980,s=0,a=(e&31)*2,o=e>>5&63,l=e>>11&31;return new Date(i,n,r,l,o,a,s)}function sn(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function Re(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,Z(0))});t.read(e,r,n,i,function(a,o){if(a)return s(a);if(o<n)return s(new Error("unexpected EOF"));s()})}Ct.inherits(et,en);function et(t){en.call(this),this.actualByteCount=0,this.expectedByteCount=t}et.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};et.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};Ct.inherits(ce,Mt);function ce(){Mt.call(this),this.refCount=0}ce.prototype.ref=function(){this.refCount+=1};ce.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};ce.prototype.createReadStream=function(t){var e=t.start,r=t.end;if(e===r){var n=new tr;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,a=new _t(this);i.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),a.destroy=function(){i.unpipe(a),a.unref(),i.destroy()};var o=new et(r-e);return a.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),o.destroy=function(){s=!0,a.unpipe(o),a.destroy()},i.pipe(a).pipe(o)};ce.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};ce.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),a=new Oi,o=0;a._write=function(l,c,d){l.copy(t,e+o,0,l.length),o+=l.length,d()},a.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(a)};ce.prototype.close=function(t){setImmediate(t)};Ct.inherits(_t,tr);function _t(t){tr.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}_t.prototype._flush=function(t){this.unref(),t()};_t.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var Gi="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function $t(t,e,r,n){if(n)return t.toString("utf8",e,r);for(var i="",s=e;s<r;s++)i+=Gi[t[s]];return i}function De(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var Z;typeof Buffer.allocUnsafe=="function"?Z=function(t){return Buffer.allocUnsafe(t)}:Z=function(t){return new Buffer(t)};function It(t){if(t)throw t}});var on=C(nr=>{var xe=require("path"),ue=process.platform==="win32",de=require("fs"),Li=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Ri(){var t;if(Li){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function Di(t){return typeof t=="function"?t:Ri()}var $d=xe.normalize;ue?re=/(.*?)(?:[\/\\]+|$)/g:re=/(.*?)(?:[\/]+|$)/g;var re;ue?tt=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:tt=/^[\/]*/;var tt;nr.realpathSync=function(e,r){if(e=xe.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},a,o,l,c;d();function d(){var v=tt.exec(e);a=v[0].length,o=v[0],l=v[0],c="",ue&&!s[l]&&(de.lstatSync(l),s[l]=!0)}for(;a<e.length;){re.lastIndex=a;var m=re.exec(e);if(c=o,o+=m[0],l=c+m[1],a=re.lastIndex,!(s[l]||r&&r[l]===l)){var u;if(r&&Object.prototype.hasOwnProperty.call(r,l))u=r[l];else{var f=de.lstatSync(l);if(!f.isSymbolicLink()){s[l]=!0,r&&(r[l]=l);continue}var h=null;if(!ue){var p=f.dev.toString(32)+":"+f.ino.toString(32);i.hasOwnProperty(p)&&(h=i[p])}h===null&&(de.statSync(l),h=de.readlinkSync(l)),u=xe.resolve(c,h),r&&(r[l]=u),ue||(i[p]=h)}e=xe.resolve(u,e.slice(a)),d()}}return r&&(r[n]=e),e};nr.realpath=function(e,r,n){if(typeof n!="function"&&(n=Di(r),r=null),e=xe.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,s={},a={},o,l,c,d;m();function m(){var v=tt.exec(e);o=v[0].length,l=v[0],c=v[0],d="",ue&&!a[c]?de.lstat(c,function(g){if(g)return n(g);a[c]=!0,u()}):process.nextTick(u)}function u(){if(o>=e.length)return r&&(r[i]=e),n(null,e);re.lastIndex=o;var v=re.exec(e);return d=l,l+=v[0],c=d+v[1],o=re.lastIndex,a[c]||r&&r[c]===c?process.nextTick(u):r&&Object.prototype.hasOwnProperty.call(r,c)?p(r[c]):de.lstat(c,f)}function f(v,g){if(v)return n(v);if(!g.isSymbolicLink())return a[c]=!0,r&&(r[c]=c),process.nextTick(u);if(!ue){var b=g.dev.toString(32)+":"+g.ino.toString(32);if(s.hasOwnProperty(b))return h(null,s[b],c)}de.stat(c,function(T){if(T)return n(T);de.readlink(c,function(k,_){ue||(s[b]=_),h(k,_)})})}function h(v,g,b){if(v)return n(v);var T=xe.resolve(d,g);r&&(r[b]=T),p(T)}function p(v){e=xe.resolve(v,e.slice(o)),m()}}});var or=C((Cd,un)=>{un.exports=fe;fe.realpath=fe;fe.sync=ar;fe.realpathSync=ar;fe.monkeypatch=ji;fe.unmonkeypatch=zi;var qe=require("fs"),ir=qe.realpath,sr=qe.realpathSync,qi=process.version,ln=/^v[0-5]\./.test(qi),cn=on();function dn(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function fe(t,e,r){if(ln)return ir(t,e,r);typeof e=="function"&&(r=e,e=null),ir(t,e,function(n,i){dn(n)?cn.realpath(t,e,r):r(n,i)})}function ar(t,e){if(ln)return sr(t,e);try{return sr(t,e)}catch(r){if(dn(r))return cn.realpathSync(t,e);throw r}}function ji(){qe.realpath=fe,qe.realpathSync=ar}function zi(){qe.realpath=ir,qe.realpathSync=sr}});var hn=C((Md,mn)=>{mn.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);Wi(i)?r.push.apply(r,i):r.push(i)}return r};var Wi=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var bn=C((_d,xn)=>{"use strict";xn.exports=vn;function vn(t,e,r){t instanceof RegExp&&(t=pn(t,r)),e instanceof RegExp&&(e=pn(e,r));var n=gn(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function pn(t,e){var r=e.match(t);return r?r[0]:null}vn.range=gn;function gn(t,e,r){var n,i,s,a,o,l=r.indexOf(t),c=r.indexOf(e,l+1),d=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;d>=0&&!o;)d==l?(n.push(d),l=r.indexOf(t,d+1)):n.length==1?o=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,a=c),c=r.indexOf(e,d+1)),d=l<c&&l>=0?l:c;n.length&&(o=[s,a])}return o}});var Fn=C((Bd,Pn)=>{var Ui=hn(),yn=bn();Pn.exports=Vi;var Sn="\0SLASH"+Math.random()+"\0",wn="\0OPEN"+Math.random()+"\0",cr="\0CLOSE"+Math.random()+"\0",En="\0COMMA"+Math.random()+"\0",An="\0PERIOD"+Math.random()+"\0";function lr(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Ki(t){return t.split("\\\\").join(Sn).split("\\{").join(wn).split("\\}").join(cr).split("\\,").join(En).split("\\.").join(An)}function Qi(t){return t.split(Sn).join("\\").split(wn).join("{").split(cr).join("}").split(En).join(",").split(An).join(".")}function Tn(t){if(!t)return[""];var e=[],r=yn("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var o=Tn(s);return s.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),e.push.apply(e,a),e}function Vi(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),je(Ki(t),!0).map(Qi)):[]}function Zi(t){return"{"+t+"}"}function Yi(t){return/^-?0\d/.test(t)}function Xi(t,e){return t<=e}function Ji(t,e){return t>=e}function je(t,e){var r=[],n=yn("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),a=i||s,o=n.body.indexOf(",")>=0;if(!a&&!o)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+cr+n.post,je(t)):[t];var l;if(a)l=n.body.split(/\.\./);else if(l=Tn(n.body),l.length===1&&(l=je(l[0],!1).map(Zi),l.length===1)){var d=n.post.length?je(n.post,!1):[""];return d.map(function(zt){return n.pre+l[0]+zt})}var c=n.pre,d=n.post.length?je(n.post,!1):[""],m;if(a){var u=lr(l[0]),f=lr(l[1]),h=Math.max(l[0].length,l[1].length),p=l.length==3?Math.abs(lr(l[2])):1,v=Xi,g=f<u;g&&(p*=-1,v=Ji);var b=l.some(Yi);m=[];for(var T=u;v(T,f);T+=p){var k;if(s)k=String.fromCharCode(T),k==="\\"&&(k="");else if(k=String(T),b){var _=h-k.length;if(_>0){var we=new Array(_+1).join("0");T<0?k="-"+we+k.slice(1):k=we+k}}m.push(k)}}else m=Ui(l,function(ot){return je(ot,!1)});for(var G=0;G<m.length;G++)for(var j=0;j<d.length;j++){var X=c+m[G]+d[j];(!e||a||X)&&r.push(X)}return r}});var Ht=C((Od,Mn)=>{Mn.exports=N;N.Minimatch=B;var rt=function(){try{return require("path")}catch{}}()||{sep:"/"};N.sep=rt.sep;var fr=N.GLOBSTAR=B.GLOBSTAR={},es=Fn(),kn={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},dr="[^/]",ur=dr+"*?",ts="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",rs="(?:(?!(?:\\/|^)\\.).)*?",$n=ns("().*{}+?[]^$\\!");function ns(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var In=/\/+/;N.filter=is;function is(t,e){return e=e||{},function(r,n,i){return N(r,t,e)}}function me(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}N.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return N;var e=N,r=function(i,s,a){return e(i,s,me(t,a))};return r.Minimatch=function(i,s){return new e.Minimatch(i,me(t,s))},r.Minimatch.defaults=function(i){return e.defaults(me(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,me(t,s))},r.defaults=function(i){return e.defaults(me(t,i))},r.makeRe=function(i,s){return e.makeRe(i,me(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,me(t,s))},r.match=function(n,i,s){return e.match(n,i,me(t,s))},r};B.defaults=function(t){return N.defaults(t).Minimatch};function N(t,e,r){return Ot(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new B(e,r).match(t)}function B(t,e){if(!(this instanceof B))return new B(t,e);Ot(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&rt.sep!=="/"&&(t=t.split(rt.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}B.prototype.debug=function(){};B.prototype.make=ss;function ss(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(In)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}B.prototype.parseNegate=as;function as(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}N.braceExpand=function(t,e){return Cn(t,e)};B.prototype.braceExpand=Cn;function Cn(t,e){return e||(this instanceof B?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,Ot(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:es(t)}var os=1024*64,Ot=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>os)throw new TypeError("pattern is too long")};B.prototype.parse=ls;var Bt={};function ls(t,e){Ot(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return fr;if(t==="")return"";var n="",i=!!r.nocase,s=!1,a=[],o=[],l,c=!1,d=-1,m=-1,u=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",f=this;function h(){if(l){switch(l){case"*":n+=ur,i=!0;break;case"?":n+=dr,i=!0;break;default:n+="\\"+l;break}f.debug("clearStateChar %j %j",l,n),l=!1}}for(var p=0,v=t.length,g;p<v&&(g=t.charAt(p));p++){if(this.debug("%s	%s %s %j",t,p,n,g),s&&$n[g]){n+="\\"+g,s=!1;continue}switch(g){case"/":return!1;case"\\":h(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,p,n,g),c){this.debug("  in class"),g==="!"&&p===m+1&&(g="^"),n+=g;continue}f.debug("call clearStateChar %j",l),h(),l=g,r.noext&&h();continue;case"(":if(c){n+="(";continue}if(!l){n+="\\(";continue}a.push({type:l,start:p-1,reStart:n.length,open:kn[l].open,close:kn[l].close}),n+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,n),l=!1;continue;case")":if(c||!a.length){n+="\\)";continue}h(),i=!0;var b=a.pop();n+=b.close,b.type==="!"&&o.push(b),b.reEnd=n.length;continue;case"|":if(c||!a.length||s){n+="\\|",s=!1;continue}h(),n+="|";continue;case"[":if(h(),c){n+="\\"+g;continue}c=!0,m=p,d=n.length,n+=g;continue;case"]":if(p===m+1||!c){n+="\\"+g,s=!1;continue}var T=t.substring(m+1,p);try{RegExp("["+T+"]")}catch{var k=this.parse(T,Bt);n=n.substr(0,d)+"\\["+k[0]+"\\]",i=i||k[1],c=!1;continue}i=!0,c=!1,n+=g;continue;default:h(),s?s=!1:$n[g]&&!(g==="^"&&c)&&(n+="\\"),n+=g}}for(c&&(T=t.substr(m+1),k=this.parse(T,Bt),n=n.substr(0,d)+"\\["+k[0],i=i||k[1]),b=a.pop();b;b=a.pop()){var _=n.slice(b.reStart+b.open.length);this.debug("setting tail",n,b),_=_.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Hr,Nr,Kt){return Kt||(Kt="\\"),Nr+Nr+Kt+"|"}),this.debug(`tail=%j
   %s`,_,_,b,n);var we=b.type==="*"?ur:b.type==="?"?dr:"\\"+b.type;i=!0,n=n.slice(0,b.reStart)+we+"\\("+_}h(),s&&(n+="\\\\");var G=!1;switch(n.charAt(0)){case"[":case".":case"(":G=!0}for(var j=o.length-1;j>-1;j--){var X=o[j],ot=n.slice(0,X.reStart),zt=n.slice(X.reStart,X.reEnd-8),Br=n.slice(X.reEnd-8,X.reEnd),Ke=n.slice(X.reEnd);Br+=Ke;var xi=ot.split("(").length-1,Wt=Ke;for(p=0;p<xi;p++)Wt=Wt.replace(/\)[+*?]?/,"");Ke=Wt;var Or="";Ke===""&&e!==Bt&&(Or="$");var bi=ot+zt+Ke+Or+Br;n=bi}if(n!==""&&i&&(n="(?=.)"+n),G&&(n=u+n),e===Bt)return[n,i];if(!i)return ds(t);var yi=r.nocase?"i":"";try{var Ut=new RegExp("^"+n+"$",yi)}catch{return new RegExp("$.")}return Ut._glob=t,Ut._src=n,Ut}N.makeRe=function(t,e){return new B(t,e||{}).makeRe()};B.prototype.makeRe=cs;function cs(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?ur:e.dot?ts:rs,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(a){return a===fr?r:typeof a=="string"?us(a):a._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}N.match=function(t,e,r){r=r||{};var n=new B(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};B.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;rt.sep!=="/"&&(e=e.split(rt.sep).join("/")),e=e.split(In),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,a;for(a=e.length-1;a>=0&&(s=e[a],!s);a--);for(a=0;a<i.length;a++){var o=i[a],l=e;n.matchBase&&o.length===1&&(l=[s]);var c=this.matchOne(l,o,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};B.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,a=t.length,o=e.length;i<a&&s<o;i++,s++){this.debug("matchOne loop");var l=e[s],c=t[i];if(this.debug(e,l,c),l===!1)return!1;if(l===fr){this.debug("GLOBSTAR",[e,l,c]);var d=i,m=s+1;if(m===o){for(this.debug("** at the end");i<a;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;d<a;){var u=t[d];if(this.debug(`
globstar while`,t,d,e,m,u),this.matchOne(t.slice(d),e.slice(m),r))return this.debug("globstar found match!",d,a,u),!0;if(u==="."||u===".."||!n.dot&&u.charAt(0)==="."){this.debug("dot detected!",t,d,e,m);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,d,e,m),d===a))}var f;if(typeof l=="string"?(f=c===l,this.debug("string match",l,c,f)):(f=c.match(l),this.debug("pattern match",l,c,f)),!f)return!1}if(i===a&&s===o)return!0;if(i===a)return r;if(s===o)return i===a-1&&t[i]==="";throw new Error("wtf?")};function ds(t){return t.replace(/\\(.)/g,"$1")}function us(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var _n=C((Hd,mr)=>{typeof Object.create=="function"?mr.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:mr.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Bn=C((Nd,pr)=>{try{if(hr=require("util"),typeof hr.inherits!="function")throw"";pr.exports=hr.inherits}catch{pr.exports=_n()}var hr});var Gt=C((Gd,Nt)=>{"use strict";function On(t){return t.charAt(0)==="/"}function Hn(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}Nt.exports=process.platform==="win32"?Hn:On;Nt.exports.posix=On;Nt.exports.win32=Hn});var gr=C(he=>{he.setopts=gs;he.ownProp=Nn;he.makeAbs=nt;he.finish=xs;he.mark=bs;he.isIgnored=Ln;he.childrenIgnored=ys;function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var fs=require("fs"),ze=require("path"),ms=Ht(),Gn=Gt(),vr=ms.Minimatch;function hs(t,e){return t.localeCompare(e,"en")}function ps(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(vs))}function vs(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new vr(r,{dot:!0})}return{matcher:new vr(t,{dot:!0}),gmatcher:e}}function gs(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||fs,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),ps(t,r),t.changedCwd=!1;var n=process.cwd();Nn(r,"cwd")?(t.cwd=ze.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||ze.resolve(t.cwd,"/"),t.root=ze.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=Gn(t.cwd)?t.cwd:nt(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new vr(e,r),t.options=t.minimatch.options}function xs(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var a=t.minimatch.globSet[n];e?r.push(a):r[a]=!0}}else{var o=Object.keys(s);e?r.push.apply(r,o):o.forEach(function(l){r[l]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(hs)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(l){var c=!/\/$/.test(l),d=t.cache[l]||t.cache[nt(t,l)];return c&&d&&(c=d!=="DIR"&&!Array.isArray(d)),c}))}t.ignore.length&&(r=r.filter(function(l){return!Ln(t,l)})),t.found=r}function bs(t,e){var r=nt(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),a=e.slice(-1)==="/";if(s&&!a?i+="/":!s&&a&&(i=i.slice(0,-1)),i!==e){var o=nt(t,i);t.statCache[o]=t.statCache[r],t.cache[o]=t.cache[r]}}return i}function nt(t,e){var r=e;return e.charAt(0)==="/"?r=ze.join(t.root,e):Gn(e)||e===""?r=e:t.changedCwd?r=ze.resolve(t.cwd,e):r=ze.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Ln(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function ys(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var zn=C((jd,jn)=>{jn.exports=qn;qn.GlobSync=M;var Ss=or(),Rn=Ht(),Rd=Rn.Minimatch,Dd=yr().Glob,qd=require("util"),xr=require("path"),Dn=require("assert"),Lt=Gt(),be=gr(),ws=be.setopts,br=be.ownProp,Es=be.childrenIgnored,As=be.isIgnored;function qn(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new M(t,e).found}function M(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof M))return new M(t,e);if(ws(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}M.prototype._finish=function(){if(Dn.ok(this instanceof M),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=Ss.realpathSync(i,t.realpathCache);n[s]=!0}catch(a){if(a.syscall==="stat")n[t._makeAbs(i)]=!0;else throw a}})}be.finish(this)};M.prototype._process=function(t,e,r){Dn.ok(this instanceof M);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),a;i===null?a=".":((Lt(i)||Lt(t.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!Lt(i))&&(i="/"+i),a=i);var o=this._makeAbs(a);if(!Es(this,a)){var l=s[0]===Rn.GLOBSTAR;l?this._processGlobStar(i,a,o,s,e,r):this._processReaddir(i,a,o,s,e,r)}};M.prototype._processReaddir=function(t,e,r,n,i,s){var a=this._readdir(r,s);if(a){for(var o=n[0],l=!!this.minimatch.negate,c=o._glob,d=this.dot||c.charAt(0)===".",m=[],u=0;u<a.length;u++){var f=a[u];if(f.charAt(0)!=="."||d){var h;l&&!t?h=!f.match(o):h=f.match(o),h&&m.push(f)}}var p=m.length;if(p!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var u=0;u<p;u++){var f=m[u];t&&(t.slice(-1)!=="/"?f=t+"/"+f:f=t+f),f.charAt(0)==="/"&&!this.nomount&&(f=xr.join(this.root,f)),this._emitMatch(i,f)}return}n.shift();for(var u=0;u<p;u++){var f=m[u],v;t?v=[t,f]:v=[f],this._process(v.concat(n),i,s)}}}};M.prototype._emitMatch=function(t,e){if(!As(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};M.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};M.prototype._readdir=function(t,e){var r;if(e&&!br(this.symlinks,t))return this._readdirInGlobStar(t);if(br(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};M.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};M.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};M.prototype._processGlobStar=function(t,e,r,n,i,s){var a=this._readdir(r,s);if(a){var o=n.slice(1),l=t?[t]:[],c=l.concat(o);this._process(c,i,!1);var d=a.length,m=this.symlinks[r];if(!(m&&s))for(var u=0;u<d;u++){var f=a[u];if(!(f.charAt(0)==="."&&!this.dot)){var h=l.concat(a[u],o);this._process(h,i,!0);var p=l.concat(a[u],n);this._process(p,i,!0)}}}};M.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Lt(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=xr.join(this.root,t):(t=xr.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};M.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&br(this.cache,e)){var a=this.cache[e];if(Array.isArray(a)&&(a="DIR"),!r||a==="DIR")return a;if(r&&a==="FILE")return!1}var n,i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=s}else i=s}this.statCache[e]=i;var a=!0;return i&&(a=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||a,r&&a==="FILE"?!1:a};M.prototype._mark=function(t){return be.mark(this,t)};M.prototype._makeAbs=function(t){return be.makeAbs(this,t)}});var Sr=C((zd,Un)=>{Un.exports=Wn;function Wn(t,e){if(t&&e)return Wn(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),a=n[n.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(o){s[o]=a[o]}),s}}});var Er=C((Wd,wr)=>{var Kn=Sr();wr.exports=Kn(Rt);wr.exports.strict=Kn(Qn);Rt.proto=Rt(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Rt(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Qn(this)},configurable:!0})});function Rt(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Qn(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Zn=C((Ud,Vn)=>{var Ts=Sr(),it=Object.create(null),Ps=Er();Vn.exports=Ts(Fs);function Fs(t,e){return it[t]?(it[t].push(e),null):(it[t]=[e],ks(t))}function ks(t){return Ps(function e(){var r=it[t],n=r.length,i=$s(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete it[t]}})}function $s(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var yr=C((Vd,Xn)=>{Xn.exports=ye;var Is=or(),Yn=Ht(),Kd=Yn.Minimatch,Cs=Bn(),Ms=require("events").EventEmitter,Ar=require("path"),Tr=require("assert"),st=Gt(),Fr=zn(),Se=gr(),_s=Se.setopts,Pr=Se.ownProp,kr=Zn(),Qd=require("util"),Bs=Se.childrenIgnored,Os=Se.isIgnored,Hs=Er();function ye(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return Fr(t,e)}return new A(t,e,r)}ye.sync=Fr;var Ns=ye.GlobSync=Fr.GlobSync;ye.glob=ye;function Gs(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}ye.hasMagic=function(t,e){var r=Gs({},e);r.noprocess=!0;var n=new A(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};ye.Glob=A;Cs(A,Ms);function A(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Ns(t,e)}if(!(this instanceof A))return new A(t,e,r);_s(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=Hs(r),this.on("error",r),this.on("end",function(l){r(null,l)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return o();for(var s=!0,a=0;a<n;a++)this._process(this.minimatch.set[a],a,!1,o);s=!1;function o(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}A.prototype._finish=function(){if(Tr(this instanceof A),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Se.finish(this),this.emit("end",this.found)}};A.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};A.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var a=this.matches[t]=Object.create(null);n.forEach(function(o,l){o=i._makeAbs(o),Is.realpath(o,i.realpathCache,function(c,d){c?c.syscall==="stat"?a[o]=!0:i.emit("error",c):a[d]=!0,--s===0&&(i.matches[t]=a,e())})})};A.prototype._mark=function(t){return Se.mark(this,t)};A.prototype._makeAbs=function(t){return Se.makeAbs(this,t)};A.prototype.abort=function(){this.aborted=!0,this.emit("abort")};A.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};A.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};A.prototype._process=function(t,e,r,n){if(Tr(this instanceof A),Tr(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var a=t.slice(i),o;s===null?o=".":((st(s)||st(t.map(function(d){return typeof d=="string"?d:"[*]"}).join("/")))&&(!s||!st(s))&&(s="/"+s),o=s);var l=this._makeAbs(o);if(Bs(this,o))return n();var c=a[0]===Yn.GLOBSTAR;c?this._processGlobStar(s,o,l,a,e,r,n):this._processReaddir(s,o,l,a,e,r,n)}};A.prototype._processReaddir=function(t,e,r,n,i,s,a){var o=this;this._readdir(r,s,function(l,c){return o._processReaddir2(t,e,r,n,i,s,c,a)})};A.prototype._processReaddir2=function(t,e,r,n,i,s,a,o){if(!a)return o();for(var l=n[0],c=!!this.minimatch.negate,d=l._glob,m=this.dot||d.charAt(0)===".",u=[],f=0;f<a.length;f++){var h=a[f];if(h.charAt(0)!=="."||m){var p;c&&!t?p=!h.match(l):p=h.match(l),p&&u.push(h)}}var v=u.length;if(v===0)return o();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<v;f++){var h=u[f];t&&(t!=="/"?h=t+"/"+h:h=t+h),h.charAt(0)==="/"&&!this.nomount&&(h=Ar.join(this.root,h)),this._emitMatch(i,h)}return o()}n.shift();for(var f=0;f<v;f++){var h=u[f],g;t&&(t!=="/"?h=t+"/"+h:h=t+h),this._process([h].concat(n),i,s,o)}o()};A.prototype._emitMatch=function(t,e){if(!this.aborted&&!Os(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=st(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};A.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=kr(r,s);i&&n.fs.lstat(t,i);function s(a,o){if(a&&a.code==="ENOENT")return e();var l=o&&o.isSymbolicLink();n.symlinks[t]=l,!l&&o&&!o.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};A.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=kr("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!Pr(this.symlinks,t))return this._readdirInGlobStar(t,r);if(Pr(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,Ls(this,t,r))}};function Ls(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}A.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};A.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};A.prototype._processGlobStar=function(t,e,r,n,i,s,a){var o=this;this._readdir(r,s,function(l,c){o._processGlobStar2(t,e,r,n,i,s,c,a)})};A.prototype._processGlobStar2=function(t,e,r,n,i,s,a,o){if(!a)return o();var l=n.slice(1),c=t?[t]:[],d=c.concat(l);this._process(d,i,!1,o);var m=this.symlinks[r],u=a.length;if(m&&s)return o();for(var f=0;f<u;f++){var h=a[f];if(!(h.charAt(0)==="."&&!this.dot)){var p=c.concat(a[f],l);this._process(p,i,!0,o);var v=c.concat(a[f],n);this._process(v,i,!0,o)}}o()};A.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};A.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&st(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=Ar.join(this.root,t):(t=Ar.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};A.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&Pr(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s,a=this.statCache[r];if(a!==void 0){if(a===!1)return e(null,a);var o=a.isDirectory()?"DIR":"FILE";return n&&o==="FILE"?e():e(null,o,a)}var l=this,c=kr("stat\0"+r,d);c&&l.fs.lstat(r,c);function d(m,u){if(u&&u.isSymbolicLink())return l.fs.stat(r,function(f,h){f?l._stat2(t,r,null,u,e):l._stat2(t,r,f,h,e)});l._stat2(t,r,m,u,e)}};A.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var a=!0;return n&&(a=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||a,s&&a==="FILE"?i():i(null,a,n)}});var oi=C((Zd,ai)=>{ai.exports=Cr;Cr.sync=si;var E=require("assert"),ri=require("path"),Jn=require("fs"),We=void 0;try{We=yr()}catch{}var ni=parseInt("666",8),Rs={nosort:!0,silent:!0},$r=0,at=process.platform==="win32";function ii(t){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];if(e.forEach(function(r){t[r]=t[r]||Jn[r],r=r+"Sync",t[r]=t[r]||Jn[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&We===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||Rs}function Cr(t,e,r){typeof e=="function"&&(r=e,e={}),E(t,"rimraf: missing path"),E.equal(typeof t,"string","rimraf: path should be a string"),E.equal(typeof r,"function","rimraf: callback function required"),E(e,"rimraf: invalid options argument provided"),E.equal(typeof e,"object","rimraf: options should be object"),ii(e);var n=0,i=null,s=0;if(e.disableGlob||!We.hasMagic(t))return o(null,[t]);e.lstat(t,function(l,c){if(!l)return o(null,[t]);We(t,e.glob,o)});function a(l){i=i||l,--s===0&&r(i)}function o(l,c){if(l)return r(l);if(s=c.length,s===0)return r();c.forEach(function(d){Ir(d,e,function m(u){if(u){if((u.code==="EBUSY"||u.code==="ENOTEMPTY"||u.code==="EPERM")&&n<e.maxBusyTries){n++;var f=n*100;return setTimeout(function(){Ir(d,e,m)},f)}if(u.code==="EMFILE"&&$r<e.emfileWait)return setTimeout(function(){Ir(d,e,m)},$r++);u.code==="ENOENT"&&(u=null)}$r=0,a(u)})})}}function Ir(t,e,r){E(t),E(e),E(typeof r=="function"),e.lstat(t,function(n,i){if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&at&&ei(t,e,n,r),i&&i.isDirectory())return Dt(t,e,n,r);e.unlink(t,function(s){if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return at?ei(t,e,s,r):Dt(t,e,s,r);if(s.code==="EISDIR")return Dt(t,e,s,r)}return r(s)})})}function ei(t,e,r,n){E(t),E(e),E(typeof n=="function"),r&&E(r instanceof Error),e.chmod(t,ni,function(i){i?n(i.code==="ENOENT"?null:r):e.stat(t,function(s,a){s?n(s.code==="ENOENT"?null:r):a.isDirectory()?Dt(t,e,r,n):e.unlink(t,n)})})}function ti(t,e,r){E(t),E(e),r&&E(r instanceof Error);try{e.chmodSync(t,ni)}catch(i){if(i.code==="ENOENT")return;throw r}try{var n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?qt(t,e,r):e.unlinkSync(t)}function Dt(t,e,r,n){E(t),E(e),r&&E(r instanceof Error),E(typeof n=="function"),e.rmdir(t,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Ds(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function Ds(t,e,r){E(t),E(e),E(typeof r=="function"),e.readdir(t,function(n,i){if(n)return r(n);var s=i.length;if(s===0)return e.rmdir(t,r);var a;i.forEach(function(o){Cr(ri.join(t,o),e,function(l){if(!a){if(l)return r(a=l);--s===0&&e.rmdir(t,r)}})})})}function si(t,e){e=e||{},ii(e),E(t,"rimraf: missing path"),E.equal(typeof t,"string","rimraf: path should be a string"),E(e,"rimraf: missing options"),E.equal(typeof e,"object","rimraf: options should be object");var r;if(e.disableGlob||!We.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=We.sync(t,e.glob)}if(r.length)for(var n=0;n<r.length;n++){var t=r[n];try{var i=e.lstatSync(t)}catch(a){if(a.code==="ENOENT")return;a.code==="EPERM"&&at&&ti(t,e,a)}try{i&&i.isDirectory()?qt(t,e,null):e.unlinkSync(t)}catch(a){if(a.code==="ENOENT")return;if(a.code==="EPERM")return at?ti(t,e,a):qt(t,e,a);if(a.code!=="EISDIR")throw a;qt(t,e,a)}}}function qt(t,e,r){E(t),E(e),r&&E(r instanceof Error);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&qs(t,e)}}function qs(t,e){E(t),E(e),e.readdirSync(t).forEach(function(a){si(ri.join(t,a),e)});var r=at?100:1,n=0;do{var i=!0;try{var s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)}});var ui=C(x=>{"use strict";var y=require("fs"),li=require("path"),js=oi(),Ue=require("fs");x.createReadStream=Ue.createReadStream;x.createWriteStream=Ue.createWriteStream;x.watch=Ue.watch;x.watchFile=Ue.watchFile;x.unwatchFile=Ue.unwatchFile;x.constants=Ue.constants;function zs(t,e){return S(y.access,arguments)}x.access=zs;function Ws(t,e,r){return S(y.appendFile,arguments)}x.appendFile=Ws;function Us(t,e){return S(y.chmod,arguments)}x.chmod=Us;function Ks(t,e,r){return S(y.chown,arguments)}x.chown=Ks;function Qs(t){return S(y.close,arguments)}x.close=Qs;function Vs(t,e){return S(y.fchmod,arguments)}x.fchmod=Vs;function Zs(t,e,r){return S(y.fchown,arguments)}x.fchown=Zs;function Ys(t){return S(y.fstat,arguments)}x.fstat=Ys;function Xs(t,e){return S(y.ftruncate,arguments)}x.ftruncate=Xs;function Js(t,e,r){return S(y.futimes,arguments)}x.futimes=Js;function ea(t){return S(y.fsync,arguments)}x.fsync=ea;function ta(t,e){return S(y.lchmod,arguments)}x.lchmod=ta;function ra(t,e,r){return S(y.lchown,arguments)}x.lchown=ra;function na(t,e){return S(y.link,arguments)}x.link=na;function ia(t){return S(y.lstat,arguments)}x.lstat=ia;function sa(t,e){return S(y.mkdir,arguments)}x.mkdir=sa;function aa(t){return S(y.mkdtemp,arguments)}x.mkdtemp=aa;function oa(t,e,r){return S(y.open,arguments)}x.open=oa;function la(t,e,r,n,i){return S(y.read,arguments,null,function(){return{bytesRead:arguments[1],buffer:arguments[2]}})}x.read=la;function ca(t){return S(y.readdir,arguments)}x.readdir=ca;function da(t,e){return S(y.readFile,arguments)}x.readFile=da;function ua(t){return S(y.readlink,arguments)}x.readlink=ua;function fa(t,e){return S(y.realpath,arguments)}x.realpath=fa;function ma(t,e){return S(y.rename,arguments)}x.rename=ma;function ha(t){return S(y.rmdir,arguments)}x.rmdir=ha;function pa(t){return S(y.stat,arguments)}x.stat=pa;function va(t,e,r){return S(y.symlink,arguments)}x.symlink=va;function ga(t,e){return S(y.truncate,arguments)}x.truncate=ga;function xa(t){return S(y.unlink,arguments)}x.unlink=xa;function ba(t,e,r){return S(y.utimes,arguments)}x.utimes=ba;function ya(t){return S(y.write,arguments,null,function(){return{written:arguments[1],buffer:arguments[2]}})}x.write=ya;function Sa(t,e,r){return S(y.writeFile,arguments)}x.writeFile=Sa;function wa(t,e,r){return e===void 0&&(e="utf8"),r==null&&(r="r"),S(y.readFile,[t,{encoding:e,flags:r}])}x.readTextFile=wa;function Ea(t,e,r,n,i){r===void 0&&(r="utf8"),n==null&&(n="w");var s={encoding:r,flags:n,mode:i};return n[0]==="a"?S(y.appendFile,[t,e,s]):S(y.writeFile,[t,e,s])}x.writeTextFile=Ea;function ci(t,e){return new Promise((r,n)=>Mr(t,e,i=>i?n(i):r()))}x.createDirectory=ci;x.mkdirp=ci;function di(t){return new Promise((e,r)=>js(t,n=>n?r(n):e()))}x.delete=di;x.rimraf=di;function Aa(t){return new Promise((e,r)=>y.lstat(t,n=>n?n.code==="ENOENT"?e(!1):r(n):e(!0)))}x.exists=Aa;function Mr(t,e,r){t=li.resolve(t),y.mkdir(t,e,n=>{n?n.code==="ENOENT"?Mr(li.dirname(t),e,i=>i?r(i):Mr(t,e,r)):y.stat(t,(i,s)=>i?r(i):s.isDirectory()?r(null):r(new Error(t+" is already a file"))):r(null)})}function S(t,e,r,n){return new Promise((i,s)=>{t.apply(r,Array.prototype.slice.call(e).concat([(a,o)=>{a?s(a):n?n.apply(r,arguments):i(o)}]))})}});var ka={};Pi(ka,{InstallZip:()=>gi,activate:()=>Pa,deactivate:()=>Fa,setCurrentElanFile:()=>Qt});module.exports=Fi(ka);var O=pe(require("vscode")),fi=pe(require("https"));var L=pe(require("vscode"));function Lr(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Rr=0;function ct(){return Rr++}function Qe(){Rr=0}function Ve(t){return!!t&&"isGlobal"in t}function Ee(t){return!!t&&"isStatement"in t}function Ae(t){return!!t&&"isMember"in t}function Dr(t){return!!t&&"enterText"in t}function H(){return"  "}function Te(t,e,r){e!==-1&&(e<t.length-1?t[e+1].select(!0,r):t[t.length-1].select(!0,r))}function Pe(t,e,r){e!==-1&&(e>0?t[e-1].select(!0,r):t[0].select(!0,r))}function Fe(t,e){let r=t.filter(i=>i.isSelected());if(r.length>1){let i=t.indexOf(r[0]),s=t.indexOf(r[r.length-1]);if(s>i+1)for(var n=i+1;n<=s-1;n++)t[n].select(!1,e);else if(i>s+1)for(var n=s+1;n<=i-1;n++)t[n].select(!1,e)}}var ke=(n=>(n[n.invalid=0]="invalid",n[n.incomplete=1]="incomplete",n[n.valid=2]="valid",n))(ke||{});var P=class{text="";prompt="";useHtmlTags=!1;htmlId="";selected=!1;focused=!1;_classes=new Array;holder;constructor(e){this.holder=e;var r=e.getMap();this.htmlId=`${this.getPrefix()}${ct()}`,r.set(this.htmlId,this)}getPrefix(){return"text"}getMap(){throw new Error("Method not implemented.")}isFocused(){throw new Error("Method not implemented.")}focus(){throw new Error("Method not implemented.")}defocus(){throw new Error("Method not implemented.")}isMultiline(){throw new Error("Method not implemented.")}hasParent(){throw new Error("Method not implemented.")}setParent(e){throw new Error("Method not implemented.")}getParent(){return this.holder}selectParent(e){throw new Error("Method not implemented.")}isParent(){throw new Error("Method not implemented.")}selectFirstChild(e){throw new Error("Method not implemented.")}selectNextPeer(e){throw new Error("Method not implemented.")}selectPreviousPeer(e){throw new Error("Method not implemented.")}selectFirstPeer(e){throw new Error("Method not implemented.")}selectLastPeer(e){throw new Error("Method not implemented.")}selectFirstText(){throw new Error("Method not implemented.")}isCollapsed(){throw new Error("Method not implemented.")}collapse(){}expand(){}status(){return 2}select(){this.selected=!0,this.focused=!0}isSelected(){return this.selected===!0}deselect(){this.selected=!1}setPrompt(e){this.prompt=e}contentAsHtml(){if(this.selected)return`<input size="${this.width()}"  value="${this.escapeDoubleQuotes(this.text)}" placeholder="${this.prompt}">`;if(this.text){var e=this.escapeAngleBrackets(this.text);return this.useHtmlTags&&(e=this.tagTypeNames(e),e=this.tagKeywords(e)),e}else return this.prompt}width(){return this.text?this.text.length>1?this.text.length-1:1:this.prompt.length-1}escapeDoubleQuotes(e){return e.replace(/"/g,"&quot;")}escapeAngleBrackets(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}contentAsSource(){return this.text?this.text:this.prompt}tagTypeNames(e){return e.replaceAll(/([A-Z][A-Za-z0-9_]*)/g,"<type>$1</type>")}tagKeywords(e){var r=["new ","of ","with "];return r.forEach(n=>{e=e.replaceAll(n,`<keyword>${n}</keyword>`)}),e}setClasses(){this._classes=new Array,this.pushClass(this.selected,"selected"),this.pushClass(this.focused,"focused"),this.pushClass(!this.text,"empty")}pushClass(e,r){e&&this._classes.push(r)}cls(){return this.setClasses(),this._classes.join(" ")}renderAsHtml(){return`<text id="${this.htmlId}" class="${this.cls()}" tabindex=0>${this.contentAsHtml()}</text>`}indent(){return""}renderAsSource(){return this.contentAsSource()}enterText(e){switch(e){case"Shift":break;case"Backspace":{this.text=this.text.substring(0,this.text.length-1);break}case"ArrowUp":{this.holder.select(!0,!1);break}case"Down":{this.holder.select(!0,!1);break}default:this.text+=e}}};var $=class extends P{getPrefix(){return"ident"}constructor(e){super(e),this.setPrompt("name")}};var F=class extends P{constructor(e){super(e),this.setPrompt("value or expression")}getPrefix(){return"expr"}};var w=class{_parent;_map;_factory;multiline=!1;selected=!1;focused=!1;collapsed=!1;_classes=new Array;htmlId="";constructor(e){this.setParent(e);var r=e.getMap();this.htmlId=`${this.getPrefix()}${this.nextId()}`,r.set(this.htmlId,this),this.setMap(r);var n=e.getFactory();this.setFactory(n)}getMap(){if(this._map)return this._map;throw new Error(`Frame : ${this.htmlId} has no Map`)}getFactory(){if(this._factory)return this._factory;throw new Error(`Frame : ${this.htmlId} has no FrameFactory`)}setMap(e){this._map=e}setFactory(e){this._factory=e}pushClass(e,r){e&&this._classes.push(r)}setClasses(){this._classes=new Array,this.pushClass(this.multiline,"multiline"),this.pushClass(this.collapsed,"collapsed"),this.pushClass(this.selected,"selected"),this.pushClass(this.focused,"focused")}cls(){return this.setClasses(),this._classes.join(" ")}nextId(){return ct()}indent(){return this.hasParent()?this.getParent()?.indent()+H():H()}isSelected(){return this.selected}isMultiline(){return this.multiline}select(e,r){if(r||this.deselectAll(),this.selected=!0,r&&this.hasParent()){var n=this._parent;n.isRangeSelecting()||n.selectChildRange(r)}this.focused=e}deselect(){this.selected=!1,this.focused=!1}deselectAll(){for(let e of this.getMap().values())e.isSelected()&&e.deselect()}hasParent(){return!!this._parent}setParent(e){this._parent=e}getParent(){if(this._parent)return this._parent;throw new Error(`Frame : ${this.htmlId} has no Parent`)}selectParent(e){this.hasParent()&&this._parent.select(!0,e)}isParent(){return!1}selectFirstChild(e){return!1}selectNextPeer(e){if(this.hasParent()){var r=this._parent;r.selectChildAfter(this,e)}}selectPreviousPeer(e){if(this.hasParent()){var r=this._parent;r.selectChildBefore(this,e)}}selectFirstPeer(e){if(this.hasParent()){var r=this._parent;r.selectFirstChild(e)}}selectLastPeer(e){if(this.hasParent()){var r=this._parent;r.selectLastChild(e)}}isCollapsed(){return this.collapsed}collapse(){this.multiline&&(this.collapsed=!0)}expand(){this.collapsed=!1}selectFirstText(){return!1}isFocused(){return this.focused}focus(){this.focused=!0}defocus(){this.focused=!1}isComplete(){return!0}status(){return 2}};var $e=class extends w{isGlobal=!0;name;expr;constructor(e){super(e),this.name=new $(this),this.expr=new F(this),this.expr.setPrompt("literal value")}getPrefix(){return"const"}selectFirstText(){return this.name.select(),!0}renderAsHtml(){return`<constant class="${this.cls()}" id='${this.htmlId}' tabindex="0"><keyword>constant </keyword>${this.name.renderAsHtml()}<keyword> set to </keyword>${this.expr.renderAsHtml()}</constant>`}indent(){return""}renderAsSource(){return`constant ${this.name.renderAsSource()} set to ${this.expr.renderAsSource()}\r
`}};var z=class extends P{isStatement=!0;holder;factory;constructor(e){super(e),this.holder=e,this.factory=this.holder.getFactory(),this.setPrompt("call each for if print repeat set switch throw try var while #")}getPrefix(){return"statementSelect"}renderAsHtml(){return`<statement>${super.renderAsHtml()}</statement>`}renderAsSource(){return`${this.indent()}`}indent(){return this.holder.indent()+H()}enterText(e){var r=this.text==="";if(r&&e==="c"){this.factory.addCallBefore(this);return}if(r&&e==="e"){this.factory.addEachBefore(this);return}if(r&&e==="f"){this.factory.addForBefore(this);return}if(r&&e==="i"){this.factory.addIfThenBefore(this);return}if(r&&e==="p"){this.factory.addPrintBefore(this);return}if(r&&e==="r"){this.factory.addRepeatBefore(this);return}if(this.text==="s"&&e==="e"){this.factory.addSetBefore(this),this.text="";return}if(this.text==="s"&&e==="w"){this.factory.addSwitchBefore(this),this.text="";return}if(this.text==="t"&&e==="h"){this.factory.addThrowBefore(this),this.text="";return}if(this.text==="t"&&e==="r"){this.factory.addTryBefore(this),this.text="";return}if(r&&e==="v"){this.factory.addVarBefore(this);return}if(r&&e==="w"){this.factory.addWhileBefore(this);return}super.enterText(e)}};var I=class extends w{statements=new Array;constructor(e){super(e),this.statements.push(new z(this))}isParent(){return!0}rangeSelecting=!1;isRangeSelecting(){return this.rangeSelecting}selectFirstChild(e){return this.statements.length>0?(this.statements[0].select(!0,e),!0):!1}selectLastChild(e){this.statements[this.statements.length-1].select(!0,e)}selectChildAfter(e,r){if(Ee(e)){let n=this.statements.indexOf(e);Te(this.statements,n,r)}}selectChildBefore(e,r){if(Ee(e)){let n=this.statements.indexOf(e);Pe(this.statements,n,r)}}selectChildRange(e){this.rangeSelecting=!0,Fe(this.statements,e),this.rangeSelecting=!1}renderStatementsAsHtml(){let e=[];for(var r of this.statements)e.push(r.renderAsHtml());return e.join(`
`)}renderStatementsAsSource(){let e=[];for(var r of this.statements)e.push(r.renderAsSource());return e.join(`\r
`)}addStatementAtEnd(e){this.statements.push(e)}addStatementBefore(e,r){var n=this.statements.indexOf(r);this.statements.splice(n,0,e)}addStatementAfter(e,r){var n=this.statements.indexOf(r)+1;this.statements.splice(n,0,e)}removeStatement(e){var r=this.statements.indexOf(e);this.statements.splice(r,1)}removeStatementSelector(){this.statements.splice(0,1)}};var W=class extends I{isGlobal=!0;constructor(e){super(e),this.multiline=!0}getPrefix(){return"main"}renderAsHtml(){return`<main class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>main</keyword></top>
${this.renderStatementsAsHtml()}
<keyword>end main</keyword>
</main>`}indent(){return""}renderAsSource(){return`main\r
${this.renderStatementsAsSource()}\r
end main\r
`}};var R=class extends w{isStatement=!0;name;expr;constructor(e){super(e),this.name=new $(this),this.name.setPrompt("variableName"),this.expr=new F(this)}getPrefix(){return"set"}selectFirstText(){return this.name.select(),!0}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0"><keyword>set </keyword>${this.name.renderAsHtml()}<keyword> to </keyword>${this.expr.renderAsHtml()}</statement>`}renderAsSource(){return`${this.indent()}set ${this.name.renderAsSource()} to ${this.expr.renderAsSource()}`}};var U=class extends w{isStatement=!0;name;expr;constructor(e){super(e),this.name=new $(this),this.expr=new F(this)}getPrefix(){return"var"}selectFirstText(){return this.name.select(),!0}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0"><keyword>var </keyword>${this.name.renderAsHtml()}<keyword> set to </keyword>${this.expr.renderAsHtml()}</statement>`}renderAsSource(){return`${this.indent()}var ${this.name.renderAsSource()} set to ${this.expr.renderAsSource()}`}};var ne=class extends P{constructor(e){super(e),this.setPrompt("parameter definitions"),this.useHtmlTags=!0}getPrefix(){return"params"}};var ie=class extends I{isGlobal=!0;name;params;constructor(e){super(e),this.multiline=!0,this.name=new $(this),this.params=new ne(this)}getPrefix(){return"proc"}selectFirstText(){return this.name.select(),!0}renderAsHtml(){return`<procedure class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>procedure </keyword>${this.name.renderAsHtml()}(${this.params.renderAsHtml()})</top>
${this.renderStatementsAsHtml()}
<keyword>end procedure</keyword>
</procedure>`}indent(){return""}renderAsSource(){return`procedure ${this.name.renderAsSource()}(${this.params.renderAsSource()})\r
${this.renderStatementsAsSource()}\r
end procedure\r
`}};var K=class extends P{constructor(e){super(e),this.useHtmlTags=!0,this.prompt="Type"}getPrefix(){return"type"}};var dt=class extends w{isStatement=!0;expr;constructor(e){super(e),this.expr=new F(this)}getPrefix(){return"return"}selectFirstText(){return this.expr.select(),!0}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0"><keyword>return </keyword>${this.expr.renderAsHtml()}</statement>`}renderAsSource(){return`${this.indent()}return ${this.expr.renderAsSource()}`}};var Q=class extends I{isGlobal=!0;name;params;returnType;constructor(e){super(e),this.multiline=!0,this.name=new $(this),this.params=new ne(this),this.returnType=new K(this),this.returnType.setPrompt("return type"),this.statements.push(new dt(this))}getPrefix(){return"func"}get returnStatement(){return this.statements[this.statements.length-1]}selectFirstText(){return this.name.select(),!0}addStatementBeforeReturn(e){var r=this.statements.length-1;this.statements.splice(r,0,e)}renderAsHtml(){return`<function class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>function </keyword>${this.name.renderAsHtml()}(${this.params.renderAsHtml()})<keyword> as </keyword>${this.returnType.renderAsHtml()}</top>
${this.renderStatementsAsHtml()}
<keyword>end function</keyword>
</function>`}indent(){return""}renderAsSource(){return`function ${this.name.renderAsSource()}(${this.params.renderAsSource()}) as ${this.returnType.renderAsSource()}\r
${this.renderStatementsAsSource()}\r
end function\r
`}};var se=class extends Q{isMember=!0;indent(){return H()}renderAsSource(){return`${this.indent()}function ${this.name.renderAsSource()}(${this.params.renderAsSource()}) as ${this.returnType.renderAsSource()}\r
${this.renderStatementsAsSource()}\r
${this.indent()}end function\r
`}};var ut=class extends P{constructor(e){super(e),this.setPrompt("values")}getPrefix(){return"enumVals"}};var Ie=class extends w{isGlobal=!0;name;values;constructor(e){super(e),this.multiline=!0,this.name=new K(this),this.name.setPrompt("Name"),this.values=new ut(this)}getPrefix(){return"enum"}selectFirstText(){return this.name.select(),!0}renderAsHtml(){return`<enum class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>enum </keyword>${this.name.renderAsHtml()}</top>
<statement>${this.values.renderAsHtml()}</statement>       
<keyword>end enum</keyword>
</enum>`}indent(){return""}renderAsSource(){return`enum ${this.name.renderAsSource()}\r
${H()}${this.values.renderAsSource()}\r
end enum\r
`}};var ft=class extends I{isMember=!0;params=new ne(this.getParent());constructor(e){super(e),this.multiline=!0}getPrefix(){return"constructor"}selectFirstText(){return this.params.select(),!0}renderAsHtml(){return`<constructor class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>constructor</keyword>(${this.params.renderAsHtml()})</top>
${this.renderStatementsAsHtml()}
<keyword>end constructor</keyword>
</constructor>`}renderAsSource(){return`${this.indent()}constructor(${this.params.renderAsSource()})\r
${this.renderStatementsAsSource()}\r
${this.indent()}end constructor\r
`}};var mt=class extends se{constructor(e){super(e),this.statements.splice(0,1)}renderAsHtml(){return`<function class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>function </keyword>asString()<keyword> as </keyword><type>String</type></top>
${this.renderStatementsAsHtml()}
<keyword>end function</keyword>
</function>`}renderAsSource(){return`${this.indent()}function asString() as String\r
${this.renderStatementsAsSource()}\r
${this.indent()}end function`}};var ht=class extends P{constructor(e){super(e),this.setPrompt("type(s)")}getPrefix(){return"args"}};var pt=class extends P{isMember=!0;class;constructor(e){super(e),this.class=e,this.setPrompt("function procedure property")}getPrefix(){return"memberSelect"}renderAsHtml(){return`<member>${super.renderAsHtml()}</member>`}renderAsSource(){return`${H()}member\r
`}enterText(e){var r=this.text==="";if(r&&e==="f"){this.class.addFunctionMethodBefore(this);return}if(this.text==="pro"&&e==="c"){this.class.addProcedureMethodBefore(this),this.text="";return}if(this.text==="pro"&&e==="p"){this.class.addPropertyBefore(this),this.text="";return}super.enterText(e)}};var ve=class extends w{isMember=!0;name;type;private=!1;constructor(e){super(e),this.name=new $(this),this.type=new K(this)}getPrefix(){return"prop"}selectFirstText(){return this.name.select(),!0}modifierAsHtml(){return this.private?"<keyword>private </keyword>":""}modifierAsSource(){return this.private?"private ":""}renderAsHtml(){return`<property class="${this.cls()}" id='${this.htmlId}' tabindex="0">${this.modifierAsHtml()}<keyword>property </keyword>${this.name.renderAsHtml()} ${this.type.renderAsHtml()}</property>`}renderAsSource(){return`${this.indent()}${this.modifierAsSource()}property ${this.name.renderAsSource()} ${this.type.renderAsSource()}\r
`}};var vt=class extends ie{isMember=!0;indent(){return H()}renderAsSource(){return`${this.indent()}procedure ${this.name.renderAsSource()}(${this.params.renderAsSource()})\r
${this.renderStatementsAsSource()}\r
${this.indent()}end procedure\r
`}};var ge=class extends w{isGlobal=!0;name;members=new Array;abstract=!1;immutable=!1;inherits=!1;superClasses;constructor(e){super(e),this.multiline=!0,this.name=new K(this),this.name.setPrompt("class name"),this.superClasses=new ht(this),this.addMemberAtEnd(new ft(this)),this.addMemberAtEnd(new pt(this)),this.addMemberAtEnd(new mt(this))}getPrefix(){return"class"}get constr(){return this.members[0]}get asString(){return this.members[this.members.length-1]}rangeSelecting=!1;isRangeSelecting(){return this.rangeSelecting}selectFirstText(){return this.name.select(),!0}selectFirstChild(e){return this.members.length>0?(this.members[0].select(!0,e),!0):!1}selectLastChild(e){this.members[this.members.length-1].select(!0,e)}selectChildAfter(e,r){if(Ae(e)){let n=this.members.indexOf(e);Te(this.members,n,r)}}selectChildBefore(e,r){if(Ae(e)){let n=this.members.indexOf(e);Pe(this.members,n,r)}}selectChildRange(e){this.rangeSelecting=!0,Fe(this.members,e),this.rangeSelecting=!1}modifiersAsHtml(){return`${this.abstract?"<keyword>abstract </keyword>":""}${this.immutable?"<keyword>immutable </keyword>":""}`}modifiersAsSource(){return`${this.abstract?"abstract ":""}${this.immutable?"immutable ":""}`}inhertanceAsHtml(){return`${this.inherits?" inherits "+this.superClasses.renderAsHtml():""}`}inhertanceAsSource(){return`${this.inherits?" inherits "+this.superClasses.renderAsSource():""}`}renderAsHtml(){let e=[];for(var r of this.members)e.push(r.renderAsHtml());let n=e.join(`
`);return`<classDef class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand>${this.modifiersAsHtml()}<keyword>class </keyword>${this.name.renderAsHtml()}${this.inhertanceAsHtml()}</top>
${n}
<keyword>end class</keyword>
</classDef>`}indent(){return""}renderAsSource(){let e=[];for(var r of this.members){var n=r.renderAsSource();e.push(n)}let i=e.join(`\r
`);return`${this.modifiersAsSource()}class ${this.name.renderAsSource()}${this.inhertanceAsSource()}\r
${i}\r
end class\r
`}addMemberAtEnd(e){this.members.push(e)}addMemberBeforeAsString(e){var r=this.members.length-1;this.members.splice(r,0,e)}addMemberBefore(e,r){var n=this.members.indexOf(r);this.members.splice(n,0,e)}addMemberAfter(e,r){var n=this.members.indexOf(r)+1;this.members.splice(n,0,e)}removeMember(e){var r=this.members.indexOf(e);this.members.splice(r,1)}addFunctionMethodBefore(e){var r=new se(this);this.addMemberBefore(r,e),r.select(!0,!1)}addPropertyBefore(e){var r=new ve(this);this.addMemberBefore(r,e),r.select(!0,!1)}addProcedureMethodBefore(e){var r=new vt(this);this.addMemberBefore(r,e),r.select(!0,!1)}};var gt=class extends P{getPrefix(){return"msg"}constructor(e){super(e),this.setPrompt("message")}};var Ce=class extends w{isStatement=!0;text;constructor(e){super(e),this.text=new gt(this)}getPrefix(){return"throw"}selectFirstText(){return this.text.select(),!0}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0"><keyword>throw </keyword>${this.text.renderAsHtml()}</statement>`}renderAsSource(){return`${this.indent()}throw ${this.text.renderAsSource()}`}};var xt=class extends P{getPrefix(){return"args"}constructor(e){super(e),this.setPrompt("arguments")}};var Me=class extends w{isStatement=!0;proc;args;constructor(e){super(e),this.proc=new $(this),this.proc.setPrompt("procedureName"),this.args=new xt(this)}selectFirstText(){return this.proc.select(),!0}getPrefix(){return"call"}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0"><top><keyword>call </keyword>${this.proc.renderAsHtml()}(${this.args.renderAsHtml()})</top></statement>`}renderAsSource(){return`${this.indent()}call ${this.proc.renderAsSource()}(${this.args.renderAsSource()})`}};var ae=class extends w{isStatement=!0;expr;constructor(e){super(e),this.expr=new F(this),this.expr.setPrompt("expression")}selectFirstText(){return this.expr.select(),!0}getPrefix(){return"print"}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0"><keyword>print </keyword>${this.expr.renderAsHtml()}</statement>`}renderAsSource(){return`${this.indent()}print ${this.expr.renderAsSource()}`}};var _e=class extends I{isStatement=!0;condition;constructor(e){super(e),this.multiline=!0,this.condition=new F(this),this.condition.setPrompt("condition")}getPrefix(){return"while"}selectFirstText(){return this.condition.select(),!0}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>while </keyword>${this.condition.renderAsHtml()}</top>
${this.renderStatementsAsHtml()}
<keyword>end while</keyword>
</statement>`}renderAsSource(){return`${this.indent()}while ${this.condition.renderAsSource()}\r
${this.renderStatementsAsSource()}\r
${this.indent()}end while`}};var Be=class extends I{isStatement=!0;condition;constructor(e){super(e),this.multiline=!0,this.condition=new F(this),this.condition.setPrompt("condition")}getPrefix(){return"repeat"}selectFirstText(){return this.condition.select(),!0}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>repeat</keyword></top>
${this.renderStatementsAsHtml()}
<keyword>until </keyword>${this.condition.renderAsHtml()}
</statement>`}renderAsSource(){return`${this.indent()}repeat\r
${this.renderStatementsAsSource()}\r
${this.indent()}until ${this.condition.renderAsSource()}`}};var bt=class extends P{constructor(e){super(e),this.prompt="integer"}getPrefix(){return"int"}};var Oe=class extends I{isStatement=!0;variable;from;to;step;constructor(e){super(e),this.multiline=!0,this.variable=new $(this),this.variable.setPrompt("variableName"),this.from=new F(this),this.from.setPrompt("integer value or expression"),this.to=new F(this),this.to.setPrompt("integer value or expression"),this.step=new bt(this),this.step.enterText("1")}getPrefix(){return"for"}selectFirstText(){return this.variable.select(),!0}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>for </keyword>${this.variable.renderAsHtml()}<keyword> from </keyword>${this.from.renderAsHtml()}<keyword> to </keyword>${this.to.renderAsHtml()}<keyword> step </keyword>${this.step.renderAsHtml()}</top>
${this.renderStatementsAsHtml()}
<keyword>end for</keyword>
</statement>`}renderAsSource(){return`${this.indent()}for ${this.variable.renderAsSource()} from ${this.from.renderAsSource()} to ${this.to.renderAsSource()} step ${this.step.renderAsSource()}\r
${this.renderStatementsAsSource()}\r
${this.indent()}end for`}};var He=class extends I{isStatement=!0;variable;iter;constructor(e){super(e),this.multiline=!0,this.variable=new $(this),this.variable.setPrompt("variableName"),this.iter=new F(this),this.iter.setPrompt("iterable value or expression")}getPrefix(){return"each"}selectFirstText(){return this.variable.select(),!0}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>each </keyword>${this.variable.renderAsHtml()}<keyword> in </keyword>${this.iter.renderAsHtml()}</top>
${this.renderStatementsAsHtml()}
<keyword>end each</keyword>
</statement>`}renderAsSource(){return`${this.indent()}each ${this.variable.renderAsSource()} in ${this.iter.renderAsSource()}\r
${this.renderStatementsAsSource()}\r
${this.indent()}end each`}};var V=class extends I{isStatement=!0;condition;constructor(e){super(e),this.multiline=!0,this.condition=new F(this),this.condition.setPrompt("condition")}selectFirstText(){return this.condition.select(),!0}getPrefix(){return"if"}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>if </keyword>${this.condition.renderAsHtml()}<keyword> then </keyword></top>
${this.renderStatementsAsHtml()}
<keyword>end if</keyword>
</statement>`}renderAsSource(){return`${this.indent()}if ${this.condition.renderAsSource()} then\r
${this.renderStatementsAsSource()}\r
${this.indent()}end if`}};var J=class extends w{isStatement=!0;hasIf=!1;condition;constructor(e){super(e),this.condition=new F(this),this.condition.setPrompt("condition")}getPrefix(){return"else"}selectFirstText(){return this.condition.select(),!0}ifClauseAsHtml(){return this.hasIf?`<keyword> if </keyword>${this.condition.renderAsHtml()}<keyword> then</keyword>`:""}ifClauseAsSource(){return this.hasIf?` if ${this.condition.renderAsSource()} then`:""}renderAsHtml(){return`<clause class="${this.cls()}" id='${this.htmlId}' tabindex="0"><keyword>else</keyword>${this.ifClauseAsHtml()}</clause>`}indent(){return this.getParent()?.indent()+""}renderAsSource(){return`${this.indent()}else${this.ifClauseAsSource()}`}};var yt=class extends w{isStatement=!0;variable;constructor(e){super(e),this.variable=new $(this),this.variable.setPrompt("variableName"),this.variable.enterText("e")}getPrefix(){return"catch"}selectFirstText(){return this.variable.select(),!0}renderAsHtml(){return`<clause class="${this.cls()}" id='${this.htmlId}' tabindex="0"><keyword>catch </keyword>${this.variable.renderAsHtml()}</clause>`}indent(){return this.getParent()?.indent()+""}renderAsSource(){return`${this.indent()}catch ${this.variable.renderAsSource()}`}};var Ne=class extends I{isStatement=!0;constructor(e){super(e),this.multiline=!0,this.statements.push(new yt(this)),this.statements.push(new z(this))}getPrefix(){return"try"}renderAsHtml(){return`<statement class="${this.cls()}" id='${this.htmlId}' tabindex="0">
<top><expand>+</expand><keyword>try </keyword></top>
${this.renderStatementsAsHtml()}
<keyword>end try</keyword>
</statement>`}renderAsSource(){return`${this.indent()}try\r
${this.renderStatementsAsSource()}\r
${this.indent()}end try`}};var Ge=class extends P{getPrefix(){return"text"}};var Le=class extends w{isGlobal=!0;text;constructor(e){super(e),this.text=new Ge(this),this.text.setPrompt("comment")}getPrefix(){return"com"}selectFirstText(){return this.text.select(),!0}renderAsHtml(){return`<comment class="${this.cls()}" id='${this.htmlId}' tabindex="0"># ${this.text.renderAsHtml()}</comment>`}indent(){return""}renderAsSource(){return`# ${this.text.renderAsSource()}`}};var Ze=class extends w{isStatement=!0;isMember=!0;text;constructor(e){super(e),this.text=new Ge(this)}getPrefix(){return"com"}selectFirstText(){return this.text.select(),!0}renderAsHtml(){return`<statement><comment class="${this.cls()}" id='${this.htmlId}' tabindex="0"># ${this.text.renderAsHtml()}</comment></statement>`}renderAsSource(){return`${this.indent()}# ${this.text.renderAsSource()}`}};var qr=require("node:crypto");var St=class{addCallBefore(e){var r=new Me(e.getParent());this.addStatementBeforeAndSelect(r,e)}addEachBefore(e){var r=new He(e.getParent());this.addStatementBeforeAndSelect(r,e)}addForBefore(e){var r=new Oe(e.getParent());this.addStatementBeforeAndSelect(r,e)}addIfThenBefore(e){var r=new V(e.getParent());this.addStatementBeforeAndSelect(r,e)}addPrintBefore(e){var r=new ae(e.getParent());this.addStatementBeforeAndSelect(r,e)}addRepeatBefore(e){var r=new Be(e.getParent());this.addStatementBeforeAndSelect(r,e)}addSetBefore(e){var r=new R(e.getParent());this.addStatementBeforeAndSelect(r,e)}addSwitchBefore(e){throw new Error("Method not implemented.")}addThrowBefore(e){var r=new Ce(e.getParent());this.addStatementBeforeAndSelect(r,e)}addTryBefore(e){var r=new Ne(e.getParent());this.addStatementBeforeAndSelect(r,e)}addVarBefore(e){var r=new U(e.getParent());this.addStatementBeforeAndSelect(r,e)}addWhileBefore(e){var r=new _e(e.getParent());this.addStatementBeforeAndSelect(r,e)}addStatementBeforeAndSelect(e,r){r.getParent().addStatementBefore(e,r),e.select(!0,!1)}};var D=class{globals=new Array;Map;factory;constructor(){Qe(),this.Map=new Map,this.factory=new St}rangeSelecting=!1;isRangeSelecting(){return this.rangeSelecting}getPrefix(){return"file"}renderAsHtml(){let e=[];for(var r of this.globals)e.push(r.renderAsHtml());let n=e.join(`
`);return`<header># ${this.getVersion()} <span class="${this.getStatus()}">${this.getStatus()}</span> <hash>${this.getHash()}</hash></header>\r
${n}`}indent(){return""}getHash(e){e=(e||this.bodyAsSource()).trim().replaceAll("\r","");let r=(0,qr.createHash)("sha256");return r.update(e),r.digest("hex").slice(0,16)}getStatus(e){return ke[this.status()]}getVersion(){return"Elan v0.1"}bodyAsSource(){let e=[];for(var r of this.globals)e.push(r.renderAsSource());return e.join(`\r
`)}renderAsSource(){let e=this.bodyAsSource();return`# ${this.getVersion()} ${this.getStatus()} ${this.getHash()}\r
\r
${e}`}addGlobalToEnd(e){this.globals.push(e)}addGlobalBefore(e,r){var n=this.globals.indexOf(r);this.globals.splice(n,0,e)}addGlobalAfter(e,r){var n=this.globals.indexOf(r)+1;this.globals.splice(n,0,e)}removeGlobal(e){var r=this.globals.indexOf(e);this.globals.splice(r,1)}isParent(){return!0}selectFirstChild(e){return this.globals.length>0?(this.globals[0].select(!0,e),!0):!1}selectLastChild(e){this.globals[this.globals.length-1].select(!0,e)}selectChildAfter(e,r){if(Ve(e)){let n=this.globals.indexOf(e);Te(this.globals,n,r)}}selectChildBefore(e,r){if(Ve(e)){let n=this.globals.indexOf(e);Pe(this.globals,n,r)}}selectChildRange(e){this.rangeSelecting=!0,Fe(this.globals,e),this.rangeSelecting=!1}defocusAll(){for(let e of this.Map.values())e.isFocused()&&e.defocus()}expandAll(){for(let e of this.Map.values())e.expand()}collapseAll(){for(let e of this.Map.values())e.collapse()}selectByID(e,r){r&&this.defocusAll(),this.Map.get(e)?.select(!0,r)}expandCollapseByID(e){let r=this.Map.get(e);r?.isCollapsed()?r.expand():r?.collapse()}expandCollapseAllByFrame(e){e?.isCollapsed()?this.expandAll():this.collapseAll()}expandCollapseAllByID(e){let r=this.Map.get(e);r?.isMultiline()?this.expandCollapseAllByFrame(r):this.expandCollapseAll()}expandCollapseAll(){let r=this.globals.filter(n=>n.isMultiline())[0];this.expandCollapseAllByFrame(r)}collapseByID(e){this.Map.get(e)?.collapse()}expandByID(e){this.Map.get(e)?.expand()}selectNextPeerByID(e,r){r&&this.defocusAll(),this.Map.get(e)?.selectNextPeer(r)}selectPreviousPeerByID(e,r){r&&this.defocusAll(),this.Map.get(e)?.selectPreviousPeer(r)}selectFirstPeerByID(e){this.Map.get(e)?.selectFirstPeer(!1)}selectLastPeerByID(e){this.Map.get(e)?.selectLastPeer(!1)}selectParentByID(e){let n=this.Map.get(e)?.getParent()}selectFirstChildByID(e){let r=this.Map.get(e);r?.selectFirstChild(!1)||r?.select(!0,!1)}selectFirstByID(e){let r=this.Map.get(e);if(Ee(r))r.selectFirstPeer(!1);else if(Ae(r))r.selectFirstPeer(!1);else if(Ve(r))this.selectFirstChild(!1);else throw new Error("Unexpected option")}selectLastByID(e){let r=this.Map.get(e);if(Ee(r))r.selectLastPeer(!1);else if(Ae(r))r.selectLastPeer(!1);else if(Ve(r))this.selectLastChild(!1);else throw new Error("Unexpected option")}selectNextTextByID(e){let r=this.Map.get(e);r?.selectFirstText()||r?.select(!0,!1)}selectFirst(){this.globals[0].select(!0,!1)}selectLast(){this.globals[this.globals.length-1].select(!0,!1)}handleInput(e,r){let n=this.Map.get(e);Dr(n)&&n.enterText(r)}status(){return this.globals.map(e=>e.status()).reduce((e,r)=>r<e?r:e,2)}deselectAll(){for(let e of this.Map.values())e.isSelected()&&e.deselect()}getMap(){return this.Map}getFactory(){return this.factory}select(e,r){}addMainBefore(e){var r=new W(this);this.addGlobalBeforeAndSelect(r,e)}addFunctionBefore(e){var r=new Q(this);this.addGlobalBeforeAndSelect(r,e)}addProcedureBefore(e){var r=new ie(this);this.addGlobalBeforeAndSelect(r,e)}addEnumBefore(e){var r=new Ie(this);this.addGlobalBeforeAndSelect(r,e)}addClassBefore(e){var r=new ge(this);this.addGlobalBeforeAndSelect(r,e)}addGlobalCommentBefore(e){var r=new Le(this);this.addGlobalBeforeAndSelect(r,e)}addConstantBefore(e){var r=new $e(this);this.addGlobalBeforeAndSelect(r,e)}addGlobalBeforeAndSelect(e,r){this.addGlobalBefore(e,r),e.select(!0,!1)}};var wt=class extends P{isGlobal=!0;file;constructor(e){super(e),this.file=e,this.setPrompt("class constant enum function main procedure #")}getPrefix(){return"globalSelect"}renderAsHtml(){return`<global>${super.renderAsHtml()}</global>`}indent(){return""}renderAsSource(){return""}enterText(e){var r=this.text==="";if(r&&e==="m"){this.file.addMainBefore(this);return}if(r&&e==="f"){this.file.addFunctionBefore(this);return}if(r&&e==="p"){this.file.addProcedureBefore(this);return}if(r&&e==="e"){this.file.addEnumBefore(this);return}if(r&&e==="#"){this.file.addGlobalCommentBefore(this);return}if(this.text==="c"&&e==="o"){this.file.addConstantBefore(this),this.text="";return}if(this.text==="c"&&e==="l"){this.file.addClassBefore(this),this.text="";return}super.enterText(e)}};function ld(){Qe();let t=new D;return t.addGlobalToEnd(new wt(t)),t}function cd(){let t=new D,e=new W(t);t.addGlobalToEnd(e),e.removeStatementSelector();let r=new Ze(e);r.text.enterText("My first program"),e.addStatementAtEnd(r);let n=new ae(e);return n.expr.enterText('"Hello World!"'),e.addStatementAtEnd(n),t}function dd(){let t=new D,e=new Le(t);e.text.enterText("Comment 1"),t.addGlobalToEnd(e);let r=new W(t);t.addGlobalToEnd(r),r.removeStatementSelector();let n=new Ze(r);return n.text.enterText("Comment 2"),r.addStatementAtEnd(n),t}function ud(){let t=new D,e=new W(t);t.addGlobalToEnd(e),e.removeStatementSelector();let r=new U(e);e.addStatementAtEnd(r);let n=new R(e);n.name.enterText("a"),n.expr.enterText("3 + 4"),e.addStatementAtEnd(n);let i=new Ce(e);e.addStatementAtEnd(i);let s=new Me(e);s.proc.enterText("signIn"),s.args.enterText("rwp, password"),e.addStatementAtEnd(s);let a=new ae(e);a.expr.enterText('"Hello World!"'),e.addStatementAtEnd(a);let o=new _e(e);o.condition.enterText("newGame"),e.addStatementAtEnd(o);let l=new Be(e);l.condition.enterText("score > 20"),e.addStatementAtEnd(l);let c=new Oe(e);e.addStatementAtEnd(c),c.variable.enterText("i"),c.from.enterText("1"),c.to.enterText("10");let d=new He(e);d.variable.enterText("letter"),d.iter.enterText("Charlie Duke"),e.addStatementAtEnd(d);let m=new V(e);m.condition.enterText("y > 4"),e.addStatementAtEnd(m);let u=new V(e);e.addStatementAtEnd(u),u.condition.enterText("y > 4"),u.addStatementAtEnd(new J(u)),u.addStatementAtEnd(new z(u));let f=new V(e);e.addStatementAtEnd(f),f.condition.enterText("y > 4");let h=new J(f);h.hasIf=!0,h.condition.enterText("y > 10"),f.addStatementAtEnd(h),f.addStatementAtEnd(new z(f)),f.addStatementAtEnd(new J(f)),f.addStatementAtEnd(new z(f));let p=new Ne(e);return e.addStatementAtEnd(p),t}function fd(t){return t.selectByID("main2",!1),()=>t}function md(t){return t.selectByID("for28",!1),()=>t}function hd(t){return t.expandAll(),()=>t}function pd(t){return t.collapseAll(),()=>t}function vd(){let t=new D,e=new $e(t);e.name.enterText("phi"),e.expr.enterText("1.618"),t.addGlobalToEnd(e);let r=new W(t);t.addGlobalToEnd(r);let n=new ie(t);n.name.enterText("signIn"),t.addGlobalToEnd(n);let i=new Q(t);i.name.enterText("hypotenuse"),i.params.enterText("sideB Float, sideC Float"),i.returnType.enterText("Float"),t.addGlobalToEnd(i);let s=new Ie(t);return s.name.enterText("Fruit"),s.values.enterText("apple, orange, pear"),t.addGlobalToEnd(s),t}function gd(){let t=new D,e=new ge(t);t.addGlobalToEnd(e),e.name.enterText("Player"),e.asString.returnStatement.expr.enterText("a Player");let r=new ve(e);e.addMemberBeforeAsString(r),r.name.enterText("score"),r.type.enterText("Int");let n=new ge(t);n.inherits=!0,n.superClasses.enterText("Foo, Bar"),t.addGlobalToEnd(n),n.name.enterText("Card"),n.immutable=!0,n.asString.returnStatement.expr.enterText("a Card");let i=new ve(n);n.addMemberBeforeAsString(i),i.name.enterText("value"),i.type.enterText("Int"),i.private=!0;let s=new se(n);return n.addMemberBeforeAsString(s),s.name.enterText("reset"),s.params.enterText(""),s.returnType.enterText("Player"),t}function xd(){Qe();let t=new D,e=new W(t);t.addGlobalToEnd(e),e.removeStatementSelector();let r=new U(e);e.addStatementAtEnd(r),r.name.enterText("li"),r.expr.enterText('{"plum","apricot","lime","lemon","melon","apple","orange","strawberry","pear","banana"}');let n=new ae(e);e.addStatementAtEnd(n),n.expr.enterText("mergeSort(li)");let i=new Q(t);t.addGlobalToEnd(i),i.removeStatementSelector(),i.name.enterText("mergeSort"),i.params.enterText("list List<of String>"),i.returnType.enterText("List<of String>");let s=new U(i);i.addStatementBeforeReturn(s),s.name.enterText("result"),s.expr.enterText("list");let a=new V(i);i.addStatementBeforeReturn(a),a.removeStatementSelector(),a.condition.enterText("list.length() > 1");let o=new U(a);a.addStatementAtEnd(o),o.name.enterText("mid"),o.expr.enterText("list.length() div 2");let l=new R(a);a.addStatementAtEnd(l),l.name.enterText("result"),l.expr.enterText("merge(mergeSort(list[..mid]), mergeSort(list[mid..]))"),i.returnStatement.expr.enterText("result");let c=new Q(t);t.addGlobalToEnd(c),c.removeStatementSelector(),c.name.enterText("merge"),c.params.enterText("a List<of String>, b List<of String>"),c.returnType.enterText("List<of String>");let d=new U(c);c.addStatementBeforeReturn(d),d.name.enterText("name"),d.expr.enterText("new List<of String>()");let m=new V(c);c.addStatementBeforeReturn(m),m.removeStatementSelector(),m.condition.enterText("a.isEmpty()");let u=new R(m);u.name.enterText("result"),u.expr.enterText("b"),m.addStatementAtEnd(u);let f=new J(m);f.hasIf=!0,f.condition.enterText("b.isEmpty()"),m.addStatementAtEnd(f);let h=new R(m);h.name.enterText("result"),h.expr.enterText("a"),m.addStatementAtEnd(h);let p=new J(m);p.hasIf=!0,p.condition.enterText("a[0].isBefore(b[0])"),m.addStatementAtEnd(p);let v=new R(m);v.name.enterText("result"),v.expr.enterText("a[0] + merge(a[1..], b)"),m.addStatementAtEnd(v);let g=new J(m);m.addStatementAtEnd(g);let b=new R(m);return b.name.enterText("result"),b.expr.enterText("b[0] + merge(a, b[1..])"),m.addStatementAtEnd(b),c.returnStatement.expr.enterText("result"),t}function jr(fn){try{return eval(`${fn}()`)}catch(t){return new D}}var Et=class t{constructor(e){this.context=e}static register(e){let r=new t(e);return L.window.registerCustomEditorProvider(t.viewType,r)}static viewType="elan.elanEditor";file;currentSource="";currentFile="";async resolveCustomTextEditor(e,r,n){if(Qt(e),r.webview.options={enableScripts:!0},r.webview.html=this.getHtmlForWebview(r.webview),this.currentFile!==e.fileName||!this.file){let l=e.fileName.split("\\"),c=l[l.length-1].split(".")[0];this.file=jr(c),this.currentSource=this.file.renderAsSource(),this.currentFile=e.fileName}function i(o){r.webview.postMessage({type:"update",text:o.renderAsHtml()})}function s(o,l){if(o.status()===2){let c=o.renderAsSource();if(l!==c){let d=new L.WorkspaceEdit;d.replace(e.uri,new L.Range(0,0,e.lineCount,0),c),L.workspace.applyEdit(d)}}}let a=L.workspace.onDidChangeTextDocument(o=>{o.document.uri.toString()===e.uri.toString()&&i(this.file)});r.onDidDispose(()=>{a.dispose(),this.file=void 0,this.currentSource=""}),r.webview.onDidReceiveMessage(o=>{switch(o.type){case"click":this.handleClick(o),i(this.file);return;case"dblclick":this.handleDblClick(o),i(this.file);return;case"key":this.handleKey(o),i(this.file),s(this.file,this.currentSource);return}}),i(this.file)}handleClick(e){switch(e.target){case"frame":{this.file?.selectByID(e.id,e.modKey==="Shift");break}}}handleDblClick(e){switch(e.target){case"frame":{this.file?.expandCollapseByID(e.id);break}case"expand":{this.file?.expandByID(e.id);break}}}handleKey(e){switch(e.target){case"frame":{this.handleFrameKey(e);break}case"text":{this.handleTextKey(e);break}case"window":{this.handleWindowKey(e);break}}}handleFrameKey(e){switch(e.key){case"Escape":{this.file?.deselectAll();break}case"ArrowUp":{this.file?.selectPreviousPeerByID(e.id,e.modKey==="Shift");break}case"ArrowDown":{this.file?.selectNextPeerByID(e.id,e.modKey==="Shift");break}case"ArrowLeft":{this.file?.selectParentByID(e.id);break}case"ArrowRight":{this.file?.selectFirstChildByID(e.id);break}case"Home":{this.file?.selectFirstByID(e.id);break}case"End":{this.file?.selectLastByID(e.id);break}case"Tab":{this.file?.selectNextTextByID(e.id);break}case"o":{e.modKey==="Control"&&this.file?.expandCollapseByID(e.id);break}case"O":{e.modKey==="Control"&&this.file?.expandCollapseAllByID(e.id);break}}}handleTextKey(e){switch(e.key){case"Tab":{this.file?.selectByID(e.id,!1);break}default:this.file?.handleInput(e.id,e.key)}}handleWindowKey(e){switch(e.key){case"Home":{this.file?.selectFirst();break}case"ArrowDown":{this.file?.selectFirst();break}case"ArrowRight":{this.file?.selectFirst();break}case"End":{this.file?.selectLast();break}case"O":{e.modKey==="Control"&&this.file?.expandCollapseAll();break}}}getHtmlForWebview(e){let r=e.asWebviewUri(L.Uri.joinPath(this.context.extensionUri,"media","elanScripts.js")),n=e.asWebviewUri(L.Uri.joinPath(this.context.extensionUri,"media","elanStyle.css")),i=Lr();return`
			<!DOCTYPE html>
			<html lang="en">
			<head>
				<meta charset="UTF-8">

				<!--
				Use a content security policy to only allow loading images from https or from our extension directory,
				and only allow scripts that have a specific nonce.
				-->
				<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src ${e.cspSource}; style-src ${e.cspSource}; script-src 'nonce-${i}';">

				<meta name="viewport" content="width=device-width, initial-scale=1.0">

				<link href="${n}" rel="stylesheet" />

				<title>Elan Editor</title>
			</head>
			<body>
	            <div class="elan-code" tabindex="0"></div>
				<script nonce="${i}" src="${r}"></script>
			</body>
			</html>`}};var mi=require("url"),hi=pe(an()),jt=pe(require("path")),_r=pe(ui()),pi=pe(require("fs")),Ta;function Qt(t){Ta=t}async function Pa(t){console.log('Congratulations, your extension "elan" is now active!');let e=`${t.extensionPath}\\.elanCompiler\\`,r=new O.Task({type:"process"},O.TaskScope.Workspace,"Compile","elan",new O.ProcessExecution(`${e}bc.exe`,["${fileDirname}\\${fileBasename}","${workspaceFolder}"]));r.group={id:O.TaskGroup.Build.id,isDefault:!0};let n=new O.Task({type:"process"},O.TaskScope.Workspace,"Run","elan",new O.ProcessExecution("${workspaceFolder}\\obj\\bin\\Debug\\net7.0\\${fileBasenameNoExtension}.exe",[]));n.group=O.TaskGroup.Test,O.tasks.registerTaskProvider("elan",{provideTasks:()=>[r,n],resolveTask(s){}}),t.subscriptions.push(Et.register(t));var i=await vi("https://ci.appveyor.com/api/buildjobs/l7hvm9jod7pdheyu/artifacts/Compiler%2Fbin%2FDebug%2Fbc.zip");await gi(i,"elan compiler",e,[])}function Fa(){}async function vi(t){let e=[],r=(0,mi.parse)(t),n={host:r.hostname,port:r.port,path:r.path,method:"GET"};return new Promise((i,s)=>{let a=fi.request(n,o=>{if(o.statusCode===301||o.statusCode===302)return o.headers.location===void 0?(console.warn("Failed to download from appveyor. Redirected without location header"),s()):i(vi(o.headers.location));if(o.statusCode!==200)return console.warn(`Failed to download from appveyor. Error code '${o.statusCode}')`),s();if(o.headers["content-length"]===void 0)return console.warn("Failed to download from appveyor. No content-length header"),s();let l=0;o.on("data",c=>{l+=c.length,e.push(c)}),o.on("end",()=>{i(Buffer.concat(e))}),o.on("error",c=>{console.warn(`Failed to download from ${t}. Error Message: ${c.message} || 'NONE'}`),s()})});a.on("error",function(o){console.log("problem with request: "+o.message)}),a.end()})}async function gi(t,e,r,n){return new Promise((i,s)=>{hi.fromBuffer(t,{lazyEntries:!0},(a,o)=>{if(a!==null)return console.warn("C# Extension was unable to download its dependencies. Please check your internet connection. If you use a proxy server, please visit https://aka.ms/VsCodeCsharpNetworking"),s();o.readEntry(),o.on("entry",async l=>{let c=jt.resolve(r,l.fileName);if(l.fileName.endsWith("/"))try{await(0,_r.mkdirp)(c,509),o.readEntry()}catch(d){return console.warn("Error creating directory for zip directory entry:"+d.code),s()}else o.openReadStream(l,async(d,m)=>{if(d)return console.warn("Error reading zip stream"),s();try{await(0,_r.mkdirp)(jt.dirname(c),509),m.pipe(pi.createWriteStream(c,{mode:493})),m.on("end",()=>o.readEntry())}catch{return console.warn("Error creating directory for zip file entry"),s()}})}),o.on("end",()=>{i()}),o.on("error",l=>{console.warn("Zip File Error:"+l.code||""),s()})})})}0&&(module.exports={InstallZip,activate,deactivate,setCurrentElanFile});
