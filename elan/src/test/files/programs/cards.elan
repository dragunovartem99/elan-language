# 73c01596c13c6d3cab32982515bca9b8e18b235ae1904f343c8ff13b2adedbed Elan v0.1 valid

main
  var cm set to initialisedCharMap(black, green)
  var card set to new Card(Rank.ace, Suit.spades)
  call cm.drawAsGraphics()
end main

function addCard(card as Card, cm as CharMap, x as Int, y as Int) return CharMap
  var cm2 set to cm
  for row from y to y + 9 step 1
    for col from x to x + 7 step 1
      set cm2 to cm2.putBackground(col, row, white)
    end for
  end for
  return cm2
end function

immutable class Card
  constructor(rank as Rank, suit as Suit)
    set property.rank to rank
    set property.suit to suit
    set colour to colours.getKey(suit)
    set label to labels.getKey(rank)
  end constructor

  property suit as Suit

  property rank as Rank

  property label as String

  property colour as Int

end class

function spades() return String
  return unicode(0x2660)
end function

function hearts() return String
  return unicode(0x2665)
end function

function diamonds() return String
  return unicode(0x2666)
end function

function clubs() return String
  return unicode(0x2663)
end function

enum Suit
  clubs, diamonds, hearts, spades
end enum

enum Rank
  ace, one, two, three, four, five, six, seven, eight, nine, ten, jack, queen, king
end enum

constant black set to 0x000000

constant white set to 0xffffff

constant green set to 0x008000

constant red set to 0xff0000

constant colours set to {Suit.clubs:0, Suit.diamonds:0xff0000, Suit.hearts:0, Suit.spades:0xff0000}

constant labels set to {Rank.ace:"A", Rank.two:"2", Rank.three:"3", Rank.four:"four", Rank.five:"5", Rank.six:"6", Rank.seven:"7", Rank.eight:"8", Rank.nine:"9", Rank.ten:"10", Rank.jack:"J", Rank.queen:"Q", Rank.king:"K"}
