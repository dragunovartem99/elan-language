code { 
    padding: 0px;
}

* {
    color: var(--defaultText);
    font-family: consolas;
    font-size: 11pt;
    background-color: var(--defaultBackground);
    border-color: var(--defaultBackground);
    font-style: normal;
}

/*TODO - change this tag to something clearer e.g. 'it' */
pr { 
    font-style: italic;
}

*:focus {
    outline: none;
}

input, input:focus , input:active{
    border: none;
    outline: none;
    padding: 0px;
    margin: 0px;
    caret-color: var(--defaultText);
}

/* Basic Colour scheme */

hash {
    display: none;
}

span {
    background-color: inherit;
}
keyword {
    color: var(--keyword);
} 
method, method field.valid text {
    color: var(--method);
}
type {
    color: var(--type);
}
string {
    color: var(--string);
    white-space: pre;
}
field.incomplete, field.incomplete  keyword, field.incomplete  type, field.incomplete  string, field.incomplete method {
    color: var(--warning);
}
.invalid field, field.invalid  keyword, field.invalid  type, field.invalid  string, field.invalid method {
    color: var(--error);
}
/* Header & comments */
comment *, comment field.valid text  {
    color: var(--comment);
}

header, header * {
    color: var(--comment);
}
header .invalid {
    color: var(--error)
}
header .incomplete {
    color: var(--warning)
}
header .valid {
    color: var(--ok)
}


/* Horizontal and vertical spacing */
statement, constructor, property, classDef > function, classDef > procedure, classDef > member {
    display: block;
    background-color: var(--defaultBackground);
    border-left-style: solid;
    border-left-width: 2ch;
}

header, constant, main, procedure, function, enum, classDef, constructor, property, member, global, test {
    display: block;
    padding-bottom: 1ch;
}

/* Frame selection */
.selected > * , .selected > clause *{
    border-left-color: var(--selection);
}

.selected > clause *, .selected > top, .selected > top *, .selected > keyword, .selected > field, .selected > field *, .selected > text, .selected > placeholder, .selected > completion {
    background-color: var(--selection);
    border-right-color: var(--selection);
}

/* Multline Collapse / Expand */
expand {
    display: none;
}
.multiline.collapsed > :not(top) {
    display: none;
}
.multiline.collapsed expand {
    display:inline;
    font-weight: bold;
    color: var(--reverseText);
    margin-right: 1ch;
    /* cursor: pointer; why only this? */
}
/* colour corresponds to worst of parseStatus and compileStatus*/
.multiline.collapsed expand {
    background-color: var(--ok);
}
.multiline.collapsed.incomplete expand, .multiline.collapsed.unknownSymbol expand {
    background-color: var(--warning);
}
.multiline.collapsed.invalid expand, .multiline.collapsed.error expand {
    background-color: var(--error);
}

/* Fields */
/* field-text*/
field.invalid text {
    color: var(--error);
}
field.incomplete text {
    color: var(--warning);
}
field.valid text {
    color: var(--defaultText);
}
field.selected.invalid text, field.selected.invalid input  {
    background-color: var(--error);
    color: var(--defaultText);
}
field.selected.incomplete text, field.selected.incomplete input {
    background-color: var(--warning);
    color: var(--defaultText);
}
field.selected.valid text, field.selected.valid input {
    background-color: var(--ok);
    color: var(--defaultText);
}
field.selected.valid.optional.empty text, field.selected.valid.optional.empty input {
    background-color: var(--optional);
    color: var(--reverseText);
}

/* field placeholder */
field placeholder {
  display: none; 
}

field.empty placeholder, field.empty placeholder * {
    display: inline;
    color: var(--warning);
}

field.empty.optional placeholder, field.empty.optional placeholder * {
    display: none;
    color: var(--optional);
}

field.empty.selected placeholder, field.empty.selected placeholder * {
    display: inline;
    color: var(--reverseText);
    background-color: var(--warning);
}

field.empty.optional.selected placeholder, field.empty.optional.selected placeholder * {
    display: inline;
    color: var(--reverseText);
    background-color: var(--optional);
}

field.empty.optional.selected placeholder, field.empty.optional.selected placeholder * {
    display: inline;
}

/* ... however, different rules when it is the 'holding' frame that is selected */
.selected > top field.empty placeholder, .selected > field.empty placeholder {
    display:inline;
    color: var(--warning);
}
.selected > top field.empty.optional placeholder, .selected > field.empty.optional placeholder {
    display:inline;
    color: var(--reverseText);
}
field.selected ~ field.empty placeholder, field.selected ~ field.empty.optional placeholder{
    display: inline;
}

/* field help */
field help {
    display: none;
}
field.selected help, field.selected help * {
    display: inline;
    color: var(--reverseText);
    background-color: var(--help);
}

/* field completion */
field completion  {
    display: none;
}

field.selected completion, field.selected completion * {
    display: inline;
    color: var(--reverseText);
    background-color: var(--warning);
}

field.selected.empty completion, field.selected.empty completion *,
field.selected.empty.optional completion, field.selected.empty.optional completion *  {
    display: none;
}

/* field msg */
field msg {
    display: none;
}

field.selected msg, field.selected msg * {
    display: inline;
}

msg {
    color: var(--reverseText);
}
msg.ok {
    background-color: var(--ok);
}
msg.warning {
    background-color: var(--warning);
}
msg.error {
    background-color: var(--error);
}

/* Selectors */
  selector * {
    background-color: var(--reverseText);
    color: var(--optional);
  }
  selector help {
    display: none; 
  }
  .selected > selector help {
    display: inline;
    background-color: var(--optional);
    color: var(--reverseText);
  }
  .selected > selector text {
    color: var(--defaultText);
  }

  /* selector placeholder */
selector placeholder  {
    display: none;
}
.empty > selector placeholder {
    display: inline;
    color: var(--optional);
}
.selected > selector placeholder {
    display: none;
}

/*  compile status & messages */
compile {
    display: none;
}

compile.error, compile.unknown {
    display: inline;
    color: var(--reverseText);
}
compile.error {
    background-color: var(--error);
}
compile.unknown {
    background-color: var(--warning);
}
