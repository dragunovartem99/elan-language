# 3a74053ed3520e1905c1d37ab21092a2aabb9bf70c516f023b7ad4a157f39f33 Elan Beta 2 valid

main
  var g set to new BlockGraphics()
  var x set to 20
  var y set to 15
  while true
    set g to g.withText(x, y, "*", red, black)
    call g.draw()
    call pause(50)
    set g to g.withBlock(x, y, black)
    call g.draw()
    let r be randomInt(0, 3)
    switch r
      case 0
        set x to withinLimits(x - 1, 39)
      case 1
        set x to withinLimits(x + 1, 39)
      case 2
        set y to withinLimits(y - 1, 29)
      case 3
        set y to withinLimits(y + 1, 29)
    end switch
  end while
end main

function withinLimits(value as Int, max as Int) return Int
  var result set to value
  if value < 0
    then
      set result to 0
    else if value > max
      set result to max
  end if
  return result
end function
